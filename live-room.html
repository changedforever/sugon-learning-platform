<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ç›´æ’­é—´ - HIECO å…‰åˆæŠ€æœ¯æ”¯æŒå¹³å°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- å›¾æ ‡åº“ -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body {
      background: #000;
      overflow: hidden;
    }
    .live-player {
      background: #000;
      position: relative;
    }
    .control-panel {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
    }
    .gift-item {
      animation: floatUp 3s ease-in-out forwards;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-100px) scale(0.5); opacity: 0; }
    }
    .audience-list {
      max-height: calc(100vh - 200px);
      overflow-y: auto;
    }
    .audience-list::-webkit-scrollbar {
      display: none;
    }
    .gift-shop {
      max-height: 300px;
      overflow-y: auto;
    }
    .chat-message {
      animation: slideIn 0.3s ease-out;
    }
    @keyframes slideIn {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    /* å³ä¾§æ æ”¶èµ·å±•å¼€æ ·å¼ */
    .sidebar-collapsed {
      width: 0 !important;
      overflow: hidden;
    }
    .expand-btn-visible {
      opacity: 1 !important;
      pointer-events: auto !important;
    }
    /* å‚ç›´éŸ³é‡è°ƒèŠ‚æ¡æ ·å¼ */
    .vertical-slider {
      -webkit-appearance: slider-vertical;
      writing-mode: bt-lr;
      -webkit-writing-mode: vertical-lr;
      width: 8px;
      height: 100px;
    }
    input[type=range].vertical-slider {
      -webkit-appearance: slider-vertical;
      width: 15px;
      height: 100px;
      padding: 0 5px;
    }
    /* ç‚¹èµæç¤ºæ ·å¼ */
    .like-notification {
      position: fixed;
      bottom: 100px;
      right: 20px;
      background: linear-gradient(135deg, rgba(255, 107, 107, 0.95), rgba(255, 159, 64, 0.95));
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 16px;
      padding: 14px 22px;
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 1000;
      animation: likeFloatUp 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      box-shadow: 0 8px 32px rgba(255, 107, 107, 0.4), 0 0 20px rgba(255, 107, 107, 0.2);
      min-width: 160px;
      transform-origin: center;
    }
    .like-notification::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(135deg, rgba(255, 107, 107, 0.6), rgba(255, 159, 64, 0.6));
      border-radius: 16px;
      z-index: -1;
      opacity: 0;
      animation: likeGlow 3s ease-out forwards;
    }
    .like-notification i {
      color: #fff;
      font-size: 22px;
      animation: likeIconBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    }
    .like-notification span {
      color: #fff;
      font-size: 15px;
      font-weight: 600;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      letter-spacing: 0.3px;
    }
    @keyframes likeFloatUp {
      0% {
        transform: translateY(0) translateX(0) scale(0.8);
        opacity: 0;
      }
      8% {
        transform: translateY(-10px) translateX(0) scale(1);
        opacity: 1;
      }
      25% {
        transform: translateY(-30px) translateX(5px) scale(1);
        opacity: 1;
      }
      50% {
        transform: translateY(-50px) translateX(-3px) scale(1);
        opacity: 1;
      }
      75% {
        transform: translateY(-70px) translateX(2px) scale(0.95);
        opacity: 0.8;
      }
      100% {
        transform: translateY(-100px) translateX(0) scale(0.85);
        opacity: 0;
      }
    }
    @keyframes likeIconBounce {
      0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
      }
      50% {
        transform: scale(1.3) rotate(10deg);
      }
      70% {
        transform: scale(0.9) rotate(-5deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }
    @keyframes likeGlow {
      0% {
        opacity: 0.8;
        filter: blur(8px);
      }
      50% {
        opacity: 0.4;
        filter: blur(4px);
      }
      100% {
        opacity: 0;
        filter: blur(0px);
      }
    }
  </style>
</head>
<body class="bg-black text-white">

<!-- ç›´æ’­é—´ä¸»ä½“ -->
<div class="flex h-screen bg-black">
  <!-- å·¦ä¾§ï¼šç›´æ’­æ’­æ”¾åŒºåŸŸ -->
  <div class="flex-1 relative">
    <!-- å³ä¾§æ æ”¶èµ·æ—¶æ˜¾ç¤ºçš„å±•å¼€æŒ‰é’® -->
    <button id="expandSidebarBtn" class="absolute top-4 right-4 z-20 w-auto h-10 rounded-full bg-gray-800 bg-opacity-70 flex items-center justify-center hover:bg-opacity-90 transition-opacity duration-300 opacity-0 pointer-events-none px-3">
      <i class="fa fa-chevron-left text-white mr-1"></i>
      <i class="fa fa-users text-white text-xs"></i>
      <span class="text-white text-xs ml-1"><span id="expandBtnViewerCount">1.2ä¸‡</span></span>
    </button>

    <!-- ä¸­å¥–ä¿¡æ¯ç¼©å°å›¾æ ‡ï¼šå…³é—­æ­å–œä¸­å¥–å¼¹çª—åæ˜¾ç¤ºåœ¨ç›´æ’­åŒºåŸŸå³ä¸‹è§’ï¼Œç‚¹å‡»å¯é‡æ–°æ‰“å¼€å¼¹çª— -->
    <button id="lotteryWinIconBtn" type="button" class="lottery-win-icon absolute bottom-[100px] right-[30px] z-20 w-12 h-12 rounded-full bg-[#B01F24] text-white shadow-lg flex items-center justify-center hover:bg-[#8f191d] hover:scale-110 transition-transform hidden" title="ä¸­å¥–ä¿¡æ¯">
      <i class="fa fa-gift text-lg"></i>
    </button>
    
    <!-- ç›´æ’­è§†é¢‘æ’­æ”¾å™¨ -->
    <div class="live-player w-full h-full flex items-center justify-center">
      <video id="liveVideo" class="w-full h-full object-cover" controls poster="https://images.unsplash.com/photo-1579546929662-711aa81148cf?auto=format&fit=crop&w=1950&q=80">
        <source src="#" type="video/mp4">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
      </video>
      <!-- åˆ‡æ¢ -->
      <div class="switch absolute top-44 left-4 z-20">
        <a href="lecturer-live-room.html" class="text-white px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2">
          <i class="fa fa-exchange text-xs"></i>
        </a>
      </div>

      <!-- ç›´æ’­é—´æ ‡é¢˜å’Œä¸»æ’­ä¿¡æ¯ -->
      <div class="absolute top-4 left-4 z-20">
        <h1 class="text-xl font-bold mb-1">AIæŠ€æœ¯å‰æ²¿åˆ†äº« - æ·±åº¦å­¦ä¹ å®æˆ˜</h1>
        <div class="flex items-center text-sm opacity-90">
          <div class="w-6 h-6 rounded-full bg-gradient-to-r from-red-500 to-pink-500 mr-2 flex items-center justify-center">
            <i class="fa fa-circle text-[8px] text-white"></i>
          </div>
          <span>ç›´æ’­ä¸­</span>
          <span class="ml-3">æ›™å…‰æŠ€æœ¯ä¸“å®¶</span>
        </div>
      </div>
      

      
      <!-- æ§åˆ¶é¢æ¿ -->
      <div class="absolute bottom-4 left-0 right-0 z-20 control-panel px-4 py-3">
        <div class="flex items-center justify-between">
          <!-- å·¦ä¾§æ§åˆ¶æŒ‰é’® -->
          <div class="flex items-center space-x-4">
            <!-- <button id="playPauseBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-play"></i>
            </button> -->
            <button id="refreshBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-sync"></i>
            </button>
            <!-- ç¤¼ç‰©æŒ‰é’® + æ‚¬æµ®ç¤¼ç‰©é¢æ¿ -->
            <div class="relative" id="giftBtnWrapper">
              <button id="giftBtn" class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-red-500 flex items-center justify-center hover:from-pink-600 hover:to-red-600 transition">
                <i class="fa fa-gift"></i>
              </button>
              <!-- æ‚¬æµ®ç¤¼ç‰©é€šæ é¢æ¿ï¼ˆé»˜è®¤éšè—ï¼Œé¼ æ ‡æ‚¬åœ giftBtn æ—¶å‡ºç°ï¼‰ï¼Œæ•ˆæœç±»ä¼¼åº•éƒ¨ç¤¼ç‰©æ ï¼Œå¸¦æŒ‡å‘ç¤¼ç‰©æŒ‰é’®çš„å°ç®­å¤´ -->
              <div id="giftPopover" style="left: -70px;" class="absolute bottom-full left-1/2  mb-3 w-[640px] max-w-[92vw] rounded-2xl bg-black/80 text-white text-xs shadow-2xl border border-pink-500/40 z-[60] hidden">
                <div class="flex items-stretch px-3 py-2 gap-4">
                  <!-- ç¤¼ç‰©åˆ—è¡¨é€šæ  -->
                  <div class="flex-1 flex items-center gap-4 overflow-x-auto no-scrollbar">
                    <div id="giftGrid" class="flex items-end gap-4 py-1">
                      <button class="gift-option flex flex-col items-center min-w-[52px] px-1.5 py-1.5 rounded-xl hover:bg-white/10 transition" data-gift="å’–å•¡">
                        <div class="text-2xl leading-none mb-1">â˜•</div>
                        <div class="text-[11px]">å’–å•¡</div>
                        <div class="text-[10px] text-pink-200 mt-0.5">x1</div>
                      </button>
                      <button class="gift-option flex flex-col items-center min-w-[52px] px-1.5 py-1.5 rounded-xl hover:bgç™½/10 transition" data-gift="çˆ±å¿ƒ">
                        <div class="text-2xl leading-none mb-1">â¤ï¸</div>
                        <div class="text-[11px]">çˆ±å¿ƒ</div>
                        <div class="text-[10px] text-pink-200 mt-0.5">x1</div>
                      </button>
                      <button class="gift-option flex flex-col items-center min-w-[52px] px-1.5 py-1.5 rounded-xl hover:bg-white/10 transition" data-gift="æ˜Ÿæ˜Ÿ">
                        <div class="text-2xl leading-none mb-1">â­</div>
                        <div class="text-[11px]">æ˜Ÿæ˜Ÿ</div>
                        <div class="text-[10px] text-pink-200 mt-0.5">x1</div>
                      </button>
                      <button class="gift-option flex flex-col items-center min-w-[52px] px-1.5 py-1.5 rounded-xl hover:bg-white/10 transition" data-gift="é’»çŸ³">
                        <div class="text-2xl leading-none mb-1">ğŸ’</div>
                        <div class="text-[11px]">é’»çŸ³</div>
                        <div class="text-[10px] text-pink-200 mt-0.5">x1</div>
                      </button>
                      <button class="gift-option flex flex-col items-center min-w-[52px] px-1.5 py-1.5 rounded-xl hover:bg-white/10 transition" data-gift="ç«ç®­">
                        <div class="text-2xl leading-none mb-1">ğŸš€</div>
                        <div class="text-[11px]">ç«ç®­</div>
                        <div class="text-[10px] text-pink-200 mt-0.5">x1</div>
                      </button>
                      <button class="gift-option flex flex-col items-center min-w-[52px] px-1.5 py-1.5 rounded-xl hover:bg-white/10 transition" data-gift="çš‡å† ">
                        <div class="text-2xl leading-none mb-1">ğŸ‘‘</div>
                        <div class="text-[11px]">çš‡å† </div>
                        <div class="text-[10px] text-pink-200 mt-0.5">x1</div>
                      </button>
                    </div>
                  </div>
                  <!-- å³ä¾§å·²é€‰+èµ é€ -->
                  <div class="flex flex-col items-end justify-center gap-1 pl-3 border-l border-white/10 min-w-[120px]">
                    <div class="text-[11px] text-gray-200">
                      å·²é€‰ï¼š<span id="selectedGiftText" class="font-semibold text-white">æœªé€‰æ‹©</span>
                    </div>
                    <button id="giftSendBtn" class="px-3 py-1.5 text-[11px] rounded-full bg-[#B01F24] text-white hover:bg-[#8f191d] disabled:opacity-40 disabled:cursor-not-allowed" disabled>èµ é€</button>
                  </div>
                </div>
                <!-- æŒ‡å‘ç¤¼ç‰©æŒ‰é’®çš„å°ç®­å¤´ -->
                <div style="left:90px" class="absolute left-1/2 -translate-x-1/2 bottom-[-6px] w-3 h-3 bg-black/80 border-b border-r border-pink-500/40 rotate-45"></div>
              </div>
            </div>
            <!-- <button id="micLinkBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition" title="åœ¨çº¿è¿éº¦">
              <i class="fa fa-microphone"></i>
            </button> -->
            <button id="shareBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-share"></i>
            </button>
            <button id="screenShareBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-desktop"></i>
            </button>
            <button id="raiseHandBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-hand-paper"></i>
            </button>
            <button id="likeBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-thumbs-up"></i>
            </button>
          </div>
          
          <!-- å³ä¾§æ§åˆ¶æŒ‰é’® -->
          <div class="flex items-center space-x-4">
            <button id="rotateBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-exchange-alt"></i>
            </button>
            <button id="danmakuBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-comment"></i>
            </button>
            <div class="relative group">
              <button id="volumeBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
                <i class="fa fa-volume-up"></i>
              </button>
              <!-- éŸ³é‡è°ƒèŠ‚æ¡ -->
              <div class="absolute bottom-full right-0 mb-2 w-8 h-24 bg-gray-800 bg-opacity-80 rounded-lg p-2 hidden group-hover:block">
                <input type="range" id="volumeSlider" min="0" max="100" value="80" orient="vertical" class="w-full h-full bg-gray-600 rounded-lg appearance-none cursor-pointer vertical-slider">
              </div>
            </div>
            <button id="pipBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-compress"></i>
            </button>
            <button id="fullscreenBtn" class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition">
              <i class="fa fa-expand"></i>
            </button>
          </div>
        </div>
        
        <!-- è¿›åº¦æ¡ -->
        <div class="mt-3">
          <div class="w-full bg-gray-700 rounded-full h-1">
            <div class="bg-red-500 h-1 rounded-full" style="width: 25%"></div>
          </div>
        </div>
      </div>
      
      <!-- ç¤¼ç‰©é£è¡ŒåŠ¨ç”»åŒºåŸŸ -->
      <div id="giftAnimationArea" class="absolute top-0 left-0 w-full h-full pointer-events-none z-10">
      </div>
    </div>
  </div>
  
  <!-- å³ä¾§ï¼šäº’åŠ¨é¢æ¿ -->
  <div id="sidebar" class="w-96 bg-gray-900 bg-opacity-90 backdrop-blur-sm flex flex-col h-full transition-all duration-300 ease-in-out">
    <!-- ä¸»æ’­ç”»é¢åŒºåŸŸ -->
    <div class="p-3 border-b border-gray-700 flex-shrink-0">
      <div class="bg-gray-800 rounded-lg overflow-hidden">
        <div class="aspect-video bg-gray-900 flex items-center justify-center">
          <img src="./images/lecture-avatar.webp" alt="ä¸»æ’­ç”»é¢" class="w-full h-full object-cover" />
        </div>
        <div class="p-2 bg-gray-800">
          <div class="flex items-center justify-between">
            <div>
              <h4 class="text-sm font-medium">æ›™å…‰æŠ€æœ¯ä¸“å®¶</h4>
              <p class="text-xs text-gray-400">æ­£åœ¨ç›´æ’­</p>
            </div>
            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] bg-red-600 text-white">
              <i class="fa fa-circle mr-1 text-[8px]"></i>
              LIVE
            </span>
          </div>
        </div>
      </div>
    </div>
    <!-- å³ä¾§æ é¡¶éƒ¨æ§åˆ¶æŒ‰é’® -->
    <div class="flex justify-between items-center border-b border-gray-700 flex-shrink-0 p-3">
      <h3 class="text-sm font-semibold">
        <i class="fa fa-users mr-1"></i>
        è§‚çœ‹äººæ•°ï¼š<span id="sidebarViewerCount">1.2ä¸‡</span>äºº
      </h3>
      <button id="collapseSidebarBtn" class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-gray-600">
        <i class="fa fa-chevron-right text-white text-xs"></i>
      </button>
    </div>
    <!-- èŠå¤©å®¤å’Œè§‚ä¼—åˆ—è¡¨åˆ‡æ¢ -->
    <div class="flex border-b border-gray-700 flex-shrink-0">
      <button id="chatTab" class="tab-button flex-1 py-3 text-center font-medium border-b-2 border-red-500 text-red-500">èŠå¤©</button>
      <button id="coursewareTab" class="tab-button flex-1 py-3 text-center font-medium text-gray-400 hover:text-white">è¯¦æƒ…</button>
      <button id="audienceTab" class="tab-button flex-1 py-3 text-center font-medium text-gray-400 hover:text-white">è§‚ä¼—</button>
      <button id="rankTab" class="tab-button flex-1 py-3 text-center font-medium text-gray-400 hover:text-white hidden">æ’è¡Œæ¦œ</button>
    </div>
    
    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="flex-1 flex flex-col min-h-0 overflow-hidden">
      <!-- è¯¾ä»¶å†…å®¹åŒºåŸŸ -->
      <div id="coursewareContent" class="tab-content hidden flex-1 overflow-hidden flex flex-col">
        <!-- Tab å¯¼èˆª -->
        <div class="flex border-b border-gray-700 flex-shrink-0 bg-gray-800">
          <button id="introTab" class="courseware-tab-btn flex-1 py-3 text-center font-medium border-b-2 border-red-500 text-red-500">ç›´æ’­ä»‹ç»</button>
          <button id="outlineTab" class="courseware-tab-btn flex-1 py-3 text-center font-medium text-gray-400 hover:text-white">ç›´æ’­å¤§çº²</button>
          <button id="materialsTab" class="courseware-tab-btn flex-1 py-3 text-center font-medium text-gray-400 hover:text-white">å…³è”èµ„æ–™</button>
          <button id="replayTab" class="courseware-tab-btn flex-1 py-3 text-center font-medium text-gray-400 hover:text-white">å›æ”¾</button>
        </div>
        
        <div class="flex-1 overflow-y-auto audience-list">
          <!-- ç›´æ’­ä»‹ç» -->
          <div id="introContent" class="courseware-tab-content p-3">
            <p class="text-sm leading-relaxed">
              æœ¬åœºç›´æ’­é¢å‘ HIECO åˆä½œä¼™ä¼´ç”Ÿæ€ä¸­çš„äº‘æ¶æ„å¸ˆã€è§£å†³æ–¹æ¡ˆé¡¾é—®å’Œ DevOps å·¥ç¨‹å¸ˆï¼Œ
              ä»å®é™…é¡¹ç›®æ¡ˆä¾‹å‡ºå‘ï¼Œæ¢³ç†ä¸€å¥—å¯å¤åˆ¶çš„äº‘åŸç”Ÿæ¶æ„è®¾è®¡æ–¹æ³•è®ºï¼Œå¹¶é€šè¿‡ç°åœº DEMO
              å±•ç¤ºå®Œæ•´è½åœ°è¿‡ç¨‹ã€‚ç›´æ’­ç»“æŸåï¼Œå°†æä¾›å½•æ’­å›çœ‹å’Œèµ„æ–™ä¸‹è½½ã€‚
            </p>
            <ul class="mt-3 text-sm space-y-1 list-disc pl-5">
              <li>é€‚åˆäººç¾¤ï¼šäº‘æ¶æ„å¸ˆ / è§£å†³æ–¹æ¡ˆé¡¾é—® / DevOps å·¥ç¨‹å¸ˆ</li>
              <li>é…å¥—èµ„æºï¼šæ¼”ç¤ºé¡¹ç›®ä»£ç ã€æ¶æ„å›¾æ¨¡æ¿ã€æœ€ä½³å®è·µæ‰‹å†Œ</li>
              <li>å…³è”è®¤è¯ï¼šä¼™ä¼´äº‘æ¶æ„å·¥ç¨‹å¸ˆï¼ˆP-Cloud Architectï¼‰ä¸“ä¸šè®¤è¯</li>
            </ul>
          </div>
          
          <!-- ç›´æ’­å¤§çº² -->
          <div id="outlineContent" class="courseware-tab-content hidden p-3">
            <div class="space-y-4">
              <div class="border-l-4 border-red-500 pl-4">
                <h3 class="text-sm font-semibold text-white mb-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šå¼€åœºä¸åŸºç¡€æ¦‚å¿µ</h3>
                <p class="text-xs text-gray-400">19:00â€“19:15</p>
                <ul class="mt-2 text-xs text-gray-400 space-y-1 list-disc pl-4">
                  <li>äº‘åŸç”Ÿå‘å±•å†ç¨‹ä¸æ ¸å¿ƒä»·å€¼</li>
                  <li>å¾®æœåŠ¡æ¶æ„æ¼”è¿›ä¸æŒ‘æˆ˜</li>
                  <li>å®¹å™¨åŒ–æŠ€æœ¯åŸºç¡€å›é¡¾</li>
                </ul>
              </div>
              
              <div class="border-l-4 border-red-500 pl-4">
                <h3 class="text-sm font-semibold text-white mb-1">ç¬¬äºŒéƒ¨åˆ†ï¼šæ¶æ„è®¾è®¡æ–¹æ³•è®º</h3>
                <p class="text-xs text-gray-400">19:15â€“20:00</p>
                <ul class="mt-2 text-xs text-gray-400 space-y-1 list-disc pl-4">
                  <li>æœåŠ¡æ‹†åˆ†åŸåˆ™ä¸è¾¹ç•Œè®¾è®¡</li>
                  <li>æ•°æ®ä¸€è‡´æ€§ä¿éšœæ–¹æ¡ˆ</li>
                  <li>å¯è§‚æµ‹æ€§ä½“ç³»å»ºè®¾</li>
                  <li>å®‰å…¨ä¸åˆè§„æ€§è€ƒè™‘</li>
                </ul>
              </div>
              
              <div class="border-l-4 border-red-500 pl-4">
                <h3 class="text-sm font-semibold text-white mb-1">ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜æ¼”ç¤º</h3>
                <p class="text-xs text-gray-400">20:00â€“20:40</p>
                <ul class="mt-2 text-xs text-gray-400 space-y-1 list-disc pl-4">
                  <li>ä»å•ä½“åº”ç”¨è¿ç§»åˆ°å¾®æœåŠ¡</li>
                  <li>Kubernetes éƒ¨ç½²æœ€ä½³å®è·µ</li>
                  <li>CI/CD æµæ°´çº¿é…ç½®</li>
                  <li>ç›‘æ§å‘Šè­¦é…ç½®æ¼”ç¤º</li>
                </ul>
              </div>
              
              <div class="border-l-4 border-red-500 pl-4">
                <h3 class="text-sm font-semibold text-white mb-1">ç¬¬å››éƒ¨åˆ†ï¼šæ€»ç»“ä¸äº’åŠ¨</h3>
                <p class="text-xs text-gray-400">20:40â€“21:00</p>
                <ul class="mt-2 text-xs text-gray-400 space-y-1 list-disc pl-4">
                  <li>å¸¸è§é—®é¢˜è§£ç­”</li>
                  <li>åç»­å­¦ä¹ è·¯å¾„å»ºè®®</li>
                  <li>èµ„æ–™ä¸‹è½½ä¸æŠ€æœ¯æ”¯æŒ</li>
                </ul>
              </div>
            </div>
          </div>
          
          <!-- å…³è”èµ„æ–™ -->
          <div id="materialsContent" class="courseware-tab-content hidden p-3">
            <div class="space-y-3">
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-file-code text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">æ¼”ç¤ºé¡¹ç›®æºç </h3>
                    <p class="text-xs text-gray-400">åŒ…å«å®Œæ•´çš„å¾®æœåŠ¡æ¶æ„ç¤ºä¾‹ä»£ç </p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">ä¸‹è½½</a>
              </div>
              
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-diagram-project text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">æ¶æ„å›¾æ¨¡æ¿</h3>
                    <p class="text-xs text-gray-400">äº‘åŸç”Ÿæ¶æ„è®¾è®¡å¸¸ç”¨æ¨¡æ¿</p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">ä¸‹è½½</a>
              </div>
              
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-book text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">æœ€ä½³å®è·µæ‰‹å†Œ</h3>
                    <p class="text-xs text-gray-400">äº‘åŸç”Ÿè½åœ°æœ€ä½³å®è·µæŒ‡å—</p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">ä¸‹è½½</a>
              </div>
              
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-video text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">ç›´æ’­å½•æ’­è§†é¢‘</h3>
                    <p class="text-xs text-gray-400">å®Œæ•´ç›´æ’­è¿‡ç¨‹å½•æ’­æ–‡ä»¶</p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">è§‚çœ‹</a>
              </div>
            </div>
          </div>
          
          <!-- å›æ”¾å†…å®¹ -->
          <div id="replayContent" class="courseware-tab-content hidden p-3">
            <div class="space-y-3">
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-play-circle text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">AIæŠ€æœ¯å‰æ²¿åˆ†äº« - æ·±åº¦å­¦ä¹ å®æˆ˜</h3>
                    <p class="text-xs text-gray-400">2023-12-15 19:00-21:00</p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">è§‚çœ‹</a>
              </div>
              
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-play-circle text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">äº‘åŸç”Ÿæ¶æ„è®¾è®¡æ–¹æ³•è®º</h3>
                    <p class="text-xs text-gray-400">2023-12-08 19:30-20:30</p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">è§‚çœ‹</a>
              </div>
              
              <div class="flex items-center justify-between p-3 rounded-lg bg-gray-800 border border-gray-700">
                <div class="flex items-center gap-3">
                  <i class="fa fa-play-circle text-red-500 text-lg"></i>
                  <div>
                    <h3 class="text-sm font-semibold text-white">å®¹å™¨åŒ–æŠ€æœ¯æ·±åº¦è§£æ</h3>
                    <p class="text-xs text-gray-400">2023-12-01 20:00-21:30</p>
                  </div>
                </div>
                <a href="#" class="text-red-500 text-xs font-medium hover:underline">è§‚çœ‹</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- èŠå¤©å†…å®¹åŒºåŸŸ -->
      <div id="chatContent" class="tab-content flex-1 flex flex-col">
        <!-- èŠå¤©æ¶ˆæ¯åˆ—è¡¨ -->
        <div id="chatMessages" class="flex-1 p-3 audience-list">
          <div class="chat-message mb-2 flex items-start">
            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=40&q=80" alt="User" class="w-6 h-6 rounded-full mr-2 mt-0.5">
            <div>
              <div class="text-xs text-red-400">æŠ€æœ¯å°ç™½</div>
              <div class="text-sm">è€å¸ˆè®²å¾—çœŸå¥½ï¼Œå—ç›ŠåŒªæµ…ï¼</div>
            </div>
          </div>
          
          <div class="chat-message mb-2 flex items-start">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=40&q=80" alt="User" class="w-6 h-6 rounded-full mr-2 mt-0.5">
            <div>
              <div class="text-xs text-blue-400">ä»£ç è¾¾äºº</div>
              <div class="text-sm">è¯·é—®è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ€ä¹ˆç®—ï¼Ÿ</div>
            </div>
          </div>
          
          <div class="chat-message mb-2 flex items-start">
            <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&w=40&q=80" alt="User" class="w-6 h-6 rounded-full mr-2 mt-0.5">
            <div>
              <div class="text-xs text-green-400">ç®—æ³•ä¸“å®¶</div>
              <div class="text-sm">å…³æ³¨äº†ï¼ŒæœŸå¾…æ›´å¤šå¹²è´§ï¼</div>
            </div>
          </div>
          
          <div class="chat-message mb-2 flex items-start">
            <img src="https://images.unsplash.com/photo-1491637639811-60e2756e1df7?auto=format&fit=crop&w=40&q=80" alt="User" class="w-6 h-6 rounded-full mr-2 mt-0.5">
            <div>
              <div class="text-xs text-yellow-400">æ¶æ„å¸ˆ</div>
              <div class="text-sm">666666ï¼Œè®²å¾—å¤ªæ£’äº†ï¼</div>
            </div>
          </div>
        </div>
        
        <!-- å‘é€æ¶ˆæ¯è¾“å…¥æ¡† -->
        <div class="p-3 border-t border-gray-700 flex-shrink-0">
          <div class="flex items-center gap-2" style="justify-content: space-between;">
            <input type="text" placeholder="è¯´ç‚¹ä»€ä¹ˆ..." class="flex-1 bg-gray-800 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 w-[100px]">
            <div class="flex gap-2">
              <button class="bg-gray-700 hover:bg-gray-600 rounded-full px-3 py-2 text-sm font-medium flex items-center gap-1">
                <i class="fa fa-comment text-yellow-400"></i>
                <span>å¼¹å¹•</span>
              </button>
              <button class="bg-red-500 hover:bg-red-600 rounded-full px-4 py-2 font-medium">å‘é€</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- è§‚ä¼—åˆ—è¡¨ -->
      <div id="audienceContent" class="tab-content hidden flex-1 overflow-hidden flex flex-col">
        <div class="p-3 flex-1 audience-list">
          <h3 class="font-semibold mb-3 flex items-center">
            <i class="fa fa-users text-red-500 mr-2"></i>
            åœ¨çº¿è§‚ä¼— <span class="text-red-500 ml-1">12,458</span>
          </h3>
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">æŠ€æœ¯å°ç™½</div>
            </div>
            <div class="text-xs text-gray-400">åˆšåˆšåŠ å…¥</div>
          </div>
          
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">ä»£ç è¾¾äºº</div>
            </div>
            <div class="text-xs text-gray-400">5åˆ†é’Ÿå‰</div>
          </div>
          
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">ç®—æ³•ä¸“å®¶</div>
            </div>
            <div class="text-xs text-gray-400">8åˆ†é’Ÿå‰</div>
          </div>
          
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1491637639811-60e2756e1df7?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">æ¶æ„å¸ˆ</div>
            </div>
            <div class="text-xs text-gray-400">12åˆ†é’Ÿå‰</div>
          </div>
          
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">æ•°æ®ç§‘å­¦å®¶</div>
            </div>
            <div class="text-xs text-gray-400">15åˆ†é’Ÿå‰</div>
          </div>
          
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1554384645-13eab165c24b?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">äº§å“ç»ç†</div>
            </div>
            <div class="text-xs text-gray-400">18åˆ†é’Ÿå‰</div>
          </div>
          
          <div class="flex items-center mb-2">
            <img src="https://images.unsplash.com/photo-1504593811423-6dd665756598?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
            <div class="flex-1">
              <div class="text-sm">è®¾è®¡å¸ˆ</div>
            </div>
            <div class="text-xs text-gray-400">22åˆ†é’Ÿå‰</div>
          </div>
        </div>
      </div>
      
      <!-- æ’è¡Œæ¦œå†…å®¹ -->
      <div id="rankContent" class="tab-content hidden flex-1 overflow-hidden flex flex-col">
        <div class="p-3 flex-1 audience-list">
          <h3 class="font-semibold mb-3 flex items-center">
            <i class="fa fa-trophy text-yellow-500 mr-2"></i>
            è´¡çŒ®æ’è¡Œæ¦œ
          </h3>
          <div class="mb-3">
            <div class="flex items-center bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 p-2 rounded-lg">
              <div class="w-6 h-6 rounded-full bg-yellow-500 text-white flex items-center justify-center text-xs font-bold mr-2">1</div>
              <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">æŠ€æœ¯å°ç™½</div>
              </div>
              <div class="text-xs text-yellow-400">è´¡çŒ®å€¼: 15,240</div>
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center bg-gradient-to-r from-gray-400/20 to-gray-500/20 p-2 rounded-lg">
              <div class="w-6 h-6 rounded-full bg-gray-400 text-white flex items-center justify-center text-xs font-bold mr-2">2</div>
              <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">ä»£ç è¾¾äºº</div>
              </div>
              <div class="text-xs text-gray-400">è´¡çŒ®å€¼: 12,890</div>
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center bg-gradient-to-r from-amber-700/20 to-amber-800/20 p-2 rounded-lg">
              <div class="w-6 h-6 rounded-full bg-amber-700 text-white flex items-center justify-center text-xs font-bold mr-2">3</div>
              <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">ç®—æ³•ä¸“å®¶</div>
              </div>
              <div class="text-xs text-amber-400">è´¡çŒ®å€¼: 10,750</div>
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center p-2 rounded-lg hover:bg-gray-800/50">
              <div class="w-6 h-6 rounded-full bg-gray-600 text-white flex items-center justify-center text-xs font-bold mr-2">4</div>
              <img src="https://images.unsplash.com/photo-1491637639811-60e2756e1df7?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">æ¶æ„å¸ˆ</div>
              </div>
              <div class="text-xs text-gray-400">è´¡çŒ®å€¼: 8,920</div>
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center p-2 rounded-lg hover:bg-gray-800/50">
              <div class="w-6 h-6 rounded-full bg-gray-600 text-white flex items-center justify-center text-xs font-bold mr-2">5</div>
              <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">æ•°æ®ç§‘å­¦å®¶</div>
              </div>
              <div class="text-xs text-gray-400">è´¡çŒ®å€¼: 7,650</div>
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center p-2 rounded-lg hover:bg-gray-800/50">
              <div class="w-6 h-6 rounded-full bg-gray-600 text-white flex items-center justify-center text-xs font-bold mr-2">6</div>
              <img src="https://images.unsplash.com/photo-1554384645-13eab165c24b?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">äº§å“ç»ç†</div>
              </div>
              <div class="text-xs text-gray-400">è´¡çŒ®å€¼: 6,340</div>
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center p-2 rounded-lg hover:bg-gray-800/50">
              <div class="w-6 h-6 rounded-full bg-gray-600 text-white flex items-center justify-center text-xs font-bold mr-2">7</div>
              <img src="https://images.unsplash.com/photo-1504593811423-6dd665756598?auto=format&fit=crop&w=40&q=80" alt="User" class="w-8 h-8 rounded-full mr-2">
              <div class="flex-1">
                <div class="text-sm">è®¾è®¡å¸ˆ</div>
              </div>
              <div class="text-xs text-gray-400">è´¡çŒ®å€¼: 5,210</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- è¿éº¦å¼¹çª—ï¼ˆä»…é¡µé¢æ•ˆæœï¼‰ -->
<div id="micLinkModal" class="fixed inset-0 z-[1000] hidden">
  <div id="micLinkBackdrop" class="absolute inset-0 bg-black/60"></div>
  <div class="absolute inset-0 flex items-center justify-center p-4">
    <div class="w-full max-w-sm rounded-2xl bg-white shadow-2xl overflow-hidden">
      <div class="px-4 py-3 border-b border-gray-200 flex items-center justify-between">
        <div class="text-sm font-semibold text-gray-800">åœ¨çº¿è¿éº¦</div>
        <button id="micLinkClose" class="h-8 w-8 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center">
          <i class="fa fa-times"></i>
        </button>
      </div>

      <div class="p-4 space-y-3">
        <div class="flex items-center gap-3">
          <div class="h-10 w-10 rounded-full bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center text-white">
            <i class="fa fa-headset"></i>
          </div>
          <div class="flex-1">
            <div class="text-sm font-medium text-gray-800">ä¸ä¸»æ’­è¿éº¦</div>
            <div id="micLinkStatusText" class="text-xs text-gray-500">æœªè¿éº¦</div>
          </div>
          <span id="micLinkBadge" class="text-[11px] px-2 py-1 rounded-full border border-gray-300 text-gray-600 bg-gray-50">ç©ºé—²</span>
        </div>

        <!-- ä¼ªâ€œéŸ³é¢‘æ³¢å½¢/è¿éº¦ä¸­â€å±•ç¤º -->
        <div id="micLinkWave" class="hidden rounded-xl border border-gray-200 bg-gray-50 p-3">
          <div class="text-xs text-gray-600 mb-2">è¿éº¦ä¸­ï¼ˆç¤ºæ„ï¼‰</div>
          <div class="flex items-end gap-1 h-10">
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 40%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 80%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 55%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 90%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 60%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 75%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 45%"></div>
            <div class="w-1.5 bg-[#B01F24] rounded" style="height: 85%"></div>
          </div>
        </div>
      </div>

      <div class="px-4 py-3 border-t border-gray-200 flex items-center justify-end gap-2 bg-gray-50">
        <button id="micLinkHangupBtn" class="px-3 py-2 text-xs rounded-xl bg-[#B01F24] text-white hover:bg-[#8f191d] transition hidden">æŒ‚æ–­</button>
        <button id="micLinkApplyBtn" class="px-3 py-2 text-xs rounded-xl bg-[#2D874B] text-white hover:opacity-90">ç”³è¯·è¿éº¦</button>
      </div>
    </div>
  </div>
</div>

<!-- ç­”é¢˜æŠ½å¥–å¼¹çª—ï¼šæ‰“å¼€é¡µé¢ 5 ç§’åè‡ªåŠ¨å‡ºç°ï¼ˆæ·±è‰²é£æ ¼ä¸ç›´æ’­é—´ä¸€è‡´ï¼‰ -->
<div id="lotteryAnswerModal" class="fixed inset-0 z-[1000] hidden items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm">
  <div class="lottery-modal-content w-full max-w-md mx-4 rounded-2xl bg-gray-900 border border-gray-700 shadow-2xl overflow-hidden">
    <div class="px-5 py-4 border-b border-gray-700">
      <h3 class="text-lg font-semibold text-white">æ­£åœ¨æŠ½å¥–</h3>
    </div>
    <div class="p-5 space-y-4">
      <p id="lotteryQuestionText" class="text-gray-300 font-medium">æœ¬æ¬¡ç›´æ’­çš„äº’åŠ¨ç¯èŠ‚ä¸»é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ</p>
      <div id="lotteryOptionsWrap" class="space-y-3">
        <label class="flex items-center gap-3 p-3 rounded-xl border border-gray-700 bg-gray-800 hover:border-[#B01F24]/60 cursor-pointer transition has-[:checked]:border-[#B01F24] has-[:checked]:bg-[#B01F24]/10">
          <input type="radio" name="lotteryAnswer" value="A" class="w-4 h-4 text-[#B01F24] bg-gray-800 border-gray-600">
          <span class="text-gray-300">æŠ€æœ¯åˆ†äº«</span>
        </label>
        <label class="flex items-center gap-3 p-3 rounded-xl border border-gray-700 bg-gray-800 hover:border-[#B01F24]/60 cursor-pointer transition has-[:checked]:border-[#B01F24] has-[:checked]:bg-[#B01F24]/10">
          <input type="radio" name="lotteryAnswer" value="B" class="w-4 h-4 text-[#B01F24] bg-gray-800 border-gray-600">
          <span class="text-gray-300">äº§å“ä»‹ç»</span>
        </label>
        <label class="flex items-center gap-3 p-3 rounded-xl border border-gray-700 bg-gray-800 hover:border-[#B01F24]/60 cursor-pointer transition has-[:checked]:border-[#B01F24] has-[:checked]:bg-[#B01F24]/10">
          <input type="radio" name="lotteryAnswer" value="C" class="w-4 h-4 text-[#B01F24] bg-gray-800 border-gray-600">
          <span class="text-gray-300">ç­”ç–‘äº’åŠ¨</span>
        </label>
        <label class="flex items-center gap-3 p-3 rounded-xl border border-gray-700 bg-gray-800 hover:border-[#B01F24]/60 cursor-pointer transition has-[:checked]:border-[#B01F24] has-[:checked]:bg-[#B01F24]/10">
          <input type="radio" name="lotteryAnswer" value="D" class="w-4 h-4 text-[#B01F24] bg-gray-800 border-gray-600">
          <span class="text-gray-300">ä»¥ä¸Šçš†æ˜¯</span>
        </label>
      </div>
    </div>
    <div class="px-5 py-4 border-t border-gray-700 flex justify-end gap-3 bg-gray-800/80">
      <button id="lotteryAnswerCancel" type="button" class="px-4 py-2.5 rounded-xl border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition text-sm font-medium">
        å–æ¶ˆ
      </button>
      <button id="lotteryAnswerSubmit" type="button" class="px-4 py-2.5 rounded-xl bg-[#B01F24] text-white hover:bg-[#8f191d] transition text-sm font-medium">
        æäº¤ç­”æ¡ˆ
      </button>
    </div>
  </div>
</div>

<!-- æœªä¸­å¥–å¼¹çª—ï¼šç‚¹å‡»å³ä¸‹è§’ä¸­å¥–å›¾æ ‡æ—¶å…ˆæ˜¾ç¤ºæ­¤å¼¹æ¡† -->
<div id="lotteryLoseModal" class="fixed inset-0 z-[1001] hidden items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm">
  <div class="lottery-modal-content w-full max-w-md mx-4 rounded-2xl bg-gray-900 border border-gray-700 shadow-2xl overflow-hidden">
    <div class="px-5 py-4 border-b border-gray-700">
      <h3 class="text-lg font-semibold text-white">æœªä¸­å¥–</h3>
    </div>
    <div class="p-5">
      <p class="text-gray-300">å¾ˆé—æ†¾ï¼Œæœ¬æ¬¡å¥–å“å’Œæ‚¨æ“¦è‚©è€Œè¿‡ã€‚</p>
    </div>
    <div class="px-5 py-4 border-t border-gray-700 flex justify-end bg-gray-800/80">
      <button id="lotteryLoseConfirm" type="button" class="px-4 py-2.5 rounded-xl bg-[#B01F24] text-white hover:bg-[#8f191d] transition text-sm font-medium">
        ç¡®å®š
      </button>
    </div>
  </div>
</div>

<!-- æ­å–œä¸­å¥–å¼¹çª—ï¼šæäº¤ç­”æ¡ˆåå‡ºç°ï¼Œå¡«å†™åœ°å€ä¸ç”µè¯ï¼›å¯å…³é—­åç¼©å°ä¸ºå³ä¸‹è§’å›¾æ ‡ -->
<div id="lotteryWinModal" class="fixed inset-0 z-[1002] hidden items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm">
  <div class="lottery-modal-content w-full max-w-md mx-4 rounded-2xl bg-gray-900 border border-gray-700 shadow-2xl overflow-hidden">
    <div class="px-5 py-4 border-b border-gray-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-white">æ­å–œæ‚¨å·²ä¸­å¥–</h3>
      <button id="lotteryWinClose" type="button" class="w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-gray-700 transition" title="å…³é—­">
        <i class="fa fa-times"></i>
      </button>
    </div>
    <div class="p-5 space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-1.5">åœ°å€</label>
        <input type="text" id="lotteryWinAddress" class="w-full px-4 py-2.5 rounded-xl bg-gray-800 border border-gray-700 text-gray-300 placeholder-gray-500 focus:border-[#B01F24] focus:outline-none" placeholder="è¯·è¾“å…¥å¥–å“æ¥æ”¶åœ°å€" />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-1.5">ç”µè¯</label>
        <input type="tel" id="lotteryWinPhone" class="w-full px-4 py-2.5 rounded-xl bg-gray-800 border border-gray-700 text-gray-300 placeholder-gray-500 focus:border-[#B01F24] focus:outline-none" placeholder="è¯·è¾“å…¥ä¸­å¥–è”ç³»ç”µè¯" />
      </div>
      <p class="text-xs text-gray-500 leading-relaxed">
        å¥–å“å°†åœ¨10ä¸ªå·¥ä½œæ—¥åå®‰æ’å¯„å‡ºï¼Œä¸­å¥–äº‹å®œå¦‚æœ‰é—®é¢˜è¯·è”ç³»ç›´æ’­åŠ©æ•™<span id="lotteryAssistantName">@ç›´æ’­åŠ©æ•™</span>ã€‚
      </p>
    </div>
    <div class="px-5 py-4 border-t border-gray-700 flex justify-end gap-3 bg-gray-800/80">
      <button id="lotteryWinConfirm" type="button" class="px-4 py-2.5 rounded-xl bg-[#B01F24] text-white hover:bg-[#8f191d] transition text-sm font-medium">
        ç¡®å®š
      </button>
    </div>
  </div>
</div>

<script>
  // ç­”é¢˜æŠ½å¥–å¼¹çª—ï¼šé¡µé¢æ‰“å¼€ 5 ç§’åè‡ªåŠ¨å‡ºç°ï¼›æäº¤ç­”æ¡ˆåæ˜¾ç¤ºæ­å–œä¸­å¥–å¼¹çª—ï¼›å…³é—­åç¼©å°ä¸ºå³ä¸‹è§’å›¾æ ‡ï¼›ç‚¹å‡»å›¾æ ‡ä¾æ¬¡æ˜¾ç¤ºæœªä¸­å¥–å¼¹æ¡†ã€ä¸­å¥–åœ°å€å¼¹æ¡†
  (function () {
    var lotteryModal = document.getElementById('lotteryAnswerModal');
    var lotteryLoseModal = document.getElementById('lotteryLoseModal');
    var lotteryWinModal = document.getElementById('lotteryWinModal');
    var lotteryWinIconBtn = document.getElementById('lotteryWinIconBtn');
    var lotteryCancel = document.getElementById('lotteryAnswerCancel');
    var lotterySubmit = document.getElementById('lotteryAnswerSubmit');
    var lotteryWinClose = document.getElementById('lotteryWinClose');
    var lotteryWinConfirm = document.getElementById('lotteryWinConfirm');
    var lotteryLoseConfirm = document.getElementById('lotteryLoseConfirm');
    var lotteryWinAddress = document.getElementById('lotteryWinAddress');
    var lotteryWinPhone = document.getElementById('lotteryWinPhone');

    function showLotteryModal() {
      lotteryModal.classList.remove('hidden');
      lotteryModal.classList.add('flex');
    }
    function hideLotteryModal() {
      lotteryModal.classList.add('hidden');
      lotteryModal.classList.remove('flex');
    }
    function showLoseModal() {
      lotteryLoseModal.classList.remove('hidden');
      lotteryLoseModal.classList.add('flex');
    }
    function hideLoseModal() {
      lotteryLoseModal.classList.add('hidden');
      lotteryLoseModal.classList.remove('flex');
    }
    function showWinModal(skipReset) {
      lotteryWinModal.classList.remove('hidden');
      lotteryWinModal.classList.add('flex');
      if (lotteryWinIconBtn) {
        lotteryWinIconBtn.classList.add('hidden');
        lotteryWinIconBtn.classList.remove('lottery-win-icon-visible');
      }
      if (!skipReset) {
        if (lotteryWinAddress) lotteryWinAddress.value = '';
        if (lotteryWinPhone) lotteryWinPhone.value = '';
      }
    }
    function hideWinModal(showIcon) {
      lotteryWinModal.classList.add('hidden');
      lotteryWinModal.classList.remove('flex');
      if (showIcon && lotteryWinIconBtn) {
        lotteryWinIconBtn.classList.remove('hidden');
        lotteryWinIconBtn.classList.add('lottery-win-icon-visible');
      }
    }

    setTimeout(showLotteryModal, 5000);
    if (lotteryCancel) lotteryCancel.addEventListener('click', hideLotteryModal);
    if (lotterySubmit) {
      lotterySubmit.addEventListener('click', function () {
        var selected = document.querySelector('input[name="lotteryAnswer"]:checked');
        if (selected) { /* å¯åœ¨æ­¤å¤„æäº¤ç­”æ¡ˆåˆ°åç«¯ */ }
        hideLotteryModal();
        showWinModal(false);
      });
    }
    if (lotteryWinClose) {
      lotteryWinClose.addEventListener('click', function () {
        hideWinModal(true);
      });
    }
    if (lotteryWinConfirm) {
      lotteryWinConfirm.addEventListener('click', function () {
        var addr = lotteryWinAddress && lotteryWinAddress.value.trim();
        var phone = lotteryWinPhone && lotteryWinPhone.value.trim();
        if (!addr) { alert('è¯·è¾“å…¥å¥–å“æ¥æ”¶åœ°å€'); return; }
        if (!phone) { alert('è¯·è¾“å…¥ä¸­å¥–è”ç³»ç”µè¯'); return; }
        // å¯åœ¨æ­¤å¤„æäº¤åœ°å€ä¸ç”µè¯åˆ°åç«¯
        hideWinModal(true);
      });
    }
    if (lotteryLoseConfirm) {
      lotteryLoseConfirm.addEventListener('click', function () {
        hideLoseModal();
        showWinModal(true);
      });
    }
    if (lotteryWinIconBtn) {
      lotteryWinIconBtn.addEventListener('click', function () {
        showLoseModal();
      });
    }
  })();
</script>

<script>


  // å…¨å±æ§åˆ¶
  const fullscreenBtn = document.getElementById('fullscreenBtn');
  fullscreenBtn.addEventListener('click', () => {
    const elem = document.documentElement;
    if (!document.fullscreenElement) {
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.mozRequestFullScreen) { /* Firefox */
        elem.mozRequestFullScreen();
      } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE/Edge */
        elem.msRequestFullscreen();
      }
    } else {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.mozCancelFullScreen) { /* Firefox */
        document.mozCancelFullScreen();
      } else if (document.webkitExitFullscreen) { /* Chrome, Safari & Opera */
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) { /* IE/Edge */
        document.msExitFullscreen();
      }
    }
  });

  // å®æ—¶æ›´æ–°è§‚ä¼—æ•°
  setInterval(() => {
    const sidebarViewerCount = document.getElementById('sidebarViewerCount');
    const expandBtnViewerCount = document.getElementById('expandBtnViewerCount');
    
    // ä½¿ç”¨å›ºå®šå€¼æˆ–æ¨¡æ‹Ÿæ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬åˆ é™¤äº†åŸå§‹çš„viewerCountå…ƒç´ 
    const current = 12000; // ä½¿ç”¨å›ºå®šçš„åˆå§‹å€¼
    const increment = Math.floor(Math.random() * 10);
    const newCount = current + increment;
    const formattedCount = newCount.toLocaleString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    
    if(sidebarViewerCount) {
      sidebarViewerCount.textContent = formattedCount;
    }
    if(expandBtnViewerCount) {
      expandBtnViewerCount.textContent = formattedCount;
    }
  }, 5000);

  // æ¨¡æ‹Ÿæ–°æ¶ˆæ¯
  setInterval(() => {
    const messages = [
      { user: 'æ–°åŒå­¦', text: 'åˆšè¿›æ¥ï¼Œé”™è¿‡äº†å¼€å¤´ï¼Œèƒ½è®²è®²é‡ç‚¹å—ï¼Ÿ', color: 'text-purple-400' },
      { user: 'è€ç²‰ä¸', text: 'æ¯æœŸç›´æ’­éƒ½ä¸é”™è¿‡ï¼Œæ„Ÿè°¢è€å¸ˆåˆ†äº«ï¼', color: 'text-blue-400' },
      { user: 'å­¦ä¹ è€…', text: 'è¿™ä¸ªçŸ¥è¯†ç‚¹è®°ä½äº†ï¼Œæ”¶è—äº†ï¼', color: 'text-green-400' },
      { user: 'å¼€å‘è€…', text: 'ä»£ç å¯ä»¥è´´å‡ºæ¥çœ‹çœ‹å—ï¼Ÿ', color: 'text-yellow-400' },
      { user: 'æ¶æ„å¸ˆ', text: 'ç”Ÿäº§ç¯å¢ƒæ€ä¹ˆéƒ¨ç½²æ¯”è¾ƒç¨³å®šï¼Ÿ', color: 'text-red-400' }
    ];
    
    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
    const chatMessages = document.getElementById('chatMessages');
    
    const messageDiv = document.createElement('div');
    messageDiv.className = 'chat-message mb-2 flex items-start animate-slideIn';
    messageDiv.innerHTML = `
      <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=40&q=80" alt="User" class="w-6 h-6 rounded-full mr-2 mt-0.5">
      <div>
        <div class="text-xs ${randomMessage.color}">${randomMessage.user}</div>
        <div class="text-sm">${randomMessage.text}</div>
      </div>
    `;
    
    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }, 3000);

  // ç¤¼ç‰©åŠ¨ç”»
  function showGiftAnimation(giftName, userName) {
    const giftArea = document.getElementById('giftAnimationArea');
    const giftDiv = document.createElement('div');
    giftDiv.className = 'gift-item absolute left-1/4 bottom-20 w-48 h-16 bg-gradient-to-r from-pink-500 to-yellow-500 rounded-lg p-2 flex items-center';
    giftDiv.innerHTML = `
      <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=40&q=80" alt="User" class="w-12 h-12 rounded-full mr-2">
      <div>
        <div class="text-xs font-bold">${userName}</div>
        <div class="text-xs">é€å‡º ${giftName}</div>
      </div>
    `;
    
    // éšæœºä½ç½®
    const leftPos = 10 + Math.random() * 30;
    giftDiv.style.left = `${leftPos}%`;
    
    giftArea.appendChild(giftDiv);
    
    // 3ç§’åç§»é™¤
    setTimeout(() => {
      giftDiv.remove();
    }, 3000);
  }

  // giftBtnï¼šæ‚¬æµ®ç¤¼ç‰©é¢æ¿é€‰æ‹©ç¤¼ç‰©å¹¶èµ é€
  const giftBtn = document.getElementById('giftBtn');
  const giftPopover = document.getElementById('giftPopover');
  const giftSendBtn = document.getElementById('giftSendBtn');
  const selectedGiftText = document.getElementById('selectedGiftText');
  const giftOptions = document.querySelectorAll('#giftGrid .gift-option');
  // const micLinkBtn = document.getElementById('micLinkBtn');

  let selectedGiftName = '';
  let giftHoverTimer = null;

  function openGiftPopover() {
    if (!giftPopover) return;
    selectedGiftName = '';
    if (selectedGiftText) selectedGiftText.textContent = 'æœªé€‰æ‹©';
    if (giftSendBtn) giftSendBtn.disabled = true;
    giftOptions.forEach(btn => btn.classList.remove('ring-2', 'ring-[#B01F24]', 'border-[#B01F24]'));
    giftPopover.classList.remove('hidden');
  }

  function scheduleCloseGiftPopover() {
    if (!giftPopover) return;
    if (giftHoverTimer) clearTimeout(giftHoverTimer);
    giftHoverTimer = setTimeout(() => {
      giftPopover.classList.add('hidden');
    }, 150);
  }

  function cancelCloseGiftPopover() {
    if (giftHoverTimer) {
      clearTimeout(giftHoverTimer);
      giftHoverTimer = null;
    }
  }

  if (giftBtn && giftPopover) {
    giftBtn.addEventListener('mouseenter', () => {
      cancelCloseGiftPopover();
      openGiftPopover();
    });
    giftBtn.addEventListener('mouseleave', scheduleCloseGiftPopover);
    giftPopover.addEventListener('mouseenter', cancelCloseGiftPopover);
    giftPopover.addEventListener('mouseleave', scheduleCloseGiftPopover);
  }

  // åœ¨çº¿è¿éº¦ï¼ˆä»…é¡µé¢æ•ˆæœï¼‰
  const micLinkModal = document.getElementById('micLinkModal');
  const micLinkBackdrop = document.getElementById('micLinkBackdrop');
  const micLinkClose = document.getElementById('micLinkClose');
  const micLinkStatusText = document.getElementById('micLinkStatusText');
  const micLinkBadge = document.getElementById('micLinkBadge');
  const micLinkWave = document.getElementById('micLinkWave');
  const micLinkApplyBtn = document.getElementById('micLinkApplyBtn');
  const micLinkHangupBtn = document.getElementById('micLinkHangupBtn');
  let micLinkState = 'idle'; // idle | connecting | connected
  let micLinkTimer = null;

  function setMicLinkState(next) {
    micLinkState = next;
    if (!micLinkStatusText || !micLinkBadge || !micLinkWave || !micLinkApplyBtn || !micLinkHangupBtn) return;

    if (micLinkTimer) {
      clearTimeout(micLinkTimer);
      micLinkTimer = null;
    }

    if (micLinkState === 'idle') {
      micLinkStatusText.textContent = 'æœªè¿éº¦';
      micLinkBadge.textContent = 'ç©ºé—²';
      micLinkBadge.className = 'text-[11px] px-2 py-1 rounded-full border border-gray-300 text-gray-600 bg-gray-50';
      micLinkWave.classList.add('hidden');
      micLinkApplyBtn.disabled = false;
      micLinkApplyBtn.textContent = 'ç”³è¯·è¿éº¦';
      micLinkHangupBtn.classList.add('hidden');
      return;
    }

    if (micLinkState === 'connecting') {
      micLinkStatusText.textContent = 'ç”³è¯·ä¸­...';
      micLinkBadge.textContent = 'è¿æ¥ä¸­';
      micLinkBadge.className = 'text-[11px] px-2 py-1 rounded-full border border-amber-300 text-amber-700 bg-amber-50';
      micLinkWave.classList.add('hidden');
      micLinkApplyBtn.disabled = true;
      micLinkApplyBtn.textContent = 'ç”³è¯·ä¸­...';
      micLinkHangupBtn.classList.add('hidden');

      // ä»…æ¼”ç¤ºï¼š1.2 ç§’åè‡ªåŠ¨â€œè¿ä¸Šâ€
      micLinkTimer = setTimeout(() => setMicLinkState('connected'), 1200);
      return;
    }

    if (micLinkState === 'connected') {
      micLinkStatusText.textContent = 'å·²è¿éº¦ï¼ˆæ¼”ç¤ºï¼‰';
      micLinkBadge.textContent = 'è¿éº¦ä¸­';
      micLinkBadge.className = 'text-[11px] px-2 py-1 rounded-full border border-emerald-300 text-emerald-700 bg-emerald-50';
      micLinkWave.classList.remove('hidden');
      micLinkApplyBtn.disabled = true;
      micLinkApplyBtn.textContent = 'å·²è¿éº¦';
      micLinkHangupBtn.classList.remove('hidden');
    }
  }

  function openMicLinkModal() {
    if (!micLinkModal) return;
    micLinkModal.classList.remove('hidden');
    setMicLinkState('idle');
  }
  function closeMicLinkModal() {
    if (!micLinkModal) return;
    micLinkModal.classList.add('hidden');
  }

  // if (micLinkBtn) micLinkBtn.addEventListener('click', openMicLinkModal);
  if (micLinkBackdrop) micLinkBackdrop.addEventListener('click', closeMicLinkModal);
  if (micLinkClose) micLinkClose.addEventListener('click', closeMicLinkModal);
  if (micLinkApplyBtn) micLinkApplyBtn.addEventListener('click', () => setMicLinkState('connecting'));
  if (micLinkHangupBtn) micLinkHangupBtn.addEventListener('click', () => setMicLinkState('idle'));
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && micLinkModal && !micLinkModal.classList.contains('hidden')) {
      closeMicLinkModal();
    }
  });

  giftOptions.forEach(btn => {
    btn.addEventListener('click', () => {
      selectedGiftName = btn.dataset.gift || '';
      selectedGiftText.textContent = selectedGiftName || 'æœªé€‰æ‹©';
      giftSendBtn.disabled = !selectedGiftName;
      giftOptions.forEach(b => b.classList.remove('ring-2', 'ring-[#B01F24]', 'border-[#B01F24]'));
      btn.classList.add('ring-2', 'ring-[#B01F24]', 'border-[#B01F24]');
    });
  });

  if (giftSendBtn) {
    giftSendBtn.addEventListener('click', () => {
      if (!selectedGiftName) return;
      // è§¦å‘ç¤¼ç‰©åŠ¨ç”»
      showGiftAnimation(selectedGiftName, 'æˆ‘');

      // åŒæ­¥å†™å…¥èŠå¤©å®¤ï¼ˆæ¨¡æ‹Ÿï¼‰
      const chatMessages = document.getElementById('chatMessages');
      if (chatMessages) {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'chat-message mb-2 flex items-start animate-slideIn';
        messageDiv.innerHTML = `
          <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=40&q=80" alt="User" class="w-6 h-6 rounded-full mr-2 mt-0.5">
          <div>
            <div class="text-xs text-emerald-400">æˆ‘</div>
            <div class="text-sm">é€å‡º ${selectedGiftName}</div>
          </div>
        `;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      // èµ é€åæ”¶èµ·ç¤¼ç‰©æ 
      if (giftPopover) {
        giftPopover.classList.add('hidden');
      }
    });
  }
  
  // æ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
  document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    
    // é»˜è®¤æ˜¾ç¤ºèŠå¤©å†…å®¹
    const defaultTabContent = document.getElementById('chatContent');
    if (defaultTabContent) {
      defaultTabContent.classList.remove('hidden');
    }
    
    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
        tabButtons.forEach(btn => {
          btn.classList.remove('text-red-500', 'border-red-500');
          btn.classList.add('text-gray-400');
          btn.classList.remove('hover:text-white'); // é˜²æ­¢æ‚¬åœæ ·å¼å½±å“
        });
        
        // ä¸ºå½“å‰æŒ‰é’®æ·»åŠ æ´»åŠ¨çŠ¶æ€
        button.classList.remove('text-gray-400');
        button.classList.add('text-red-500', 'border-red-500');
        
        // è·å–æŒ‰é’®å¯¹åº”çš„æ ‡ç­¾ID
        const tabId = button.id.replace('Tab', 'Content');
        
        // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
        tabContents.forEach(content => {
          content.classList.add('hidden');
        });
        
        // æ˜¾ç¤ºå½“å‰å†…å®¹åŒºåŸŸ
        document.getElementById(tabId).classList.remove('hidden');
      });
    });
    
    // è¯¾ä»¶å†…éƒ¨æ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
    const coursewareTabButtons = document.querySelectorAll('.courseware-tab-btn');
    const coursewareTabContents = document.querySelectorAll('.courseware-tab-content');
    
    // é»˜è®¤æ˜¾ç¤ºç›´æ’­ä»‹ç»å†…å®¹
    document.getElementById('introContent').classList.remove('hidden');
    
    coursewareTabButtons.forEach(button => {
      button.addEventListener('click', () => {
        // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
        coursewareTabButtons.forEach(btn => {
          btn.classList.remove('text-red-500', 'border-red-500');
          btn.classList.add('text-gray-400');
          btn.classList.remove('hover:text-white'); // é˜²æ­¢æ‚¬åœæ ·å¼å½±å“
        });
        
        // ä¸ºå½“å‰æŒ‰é’®æ·»åŠ æ´»åŠ¨çŠ¶æ€
        button.classList.remove('text-gray-400');
        button.classList.add('text-red-500', 'border-red-500');
        
        // è·å–æŒ‰é’®å¯¹åº”çš„æ ‡ç­¾ID
        const tabId = button.id.replace('Tab', 'Content');
        
        // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
        coursewareTabContents.forEach(content => {
          content.classList.add('hidden');
        });
        
        // æ˜¾ç¤ºå½“å‰å†…å®¹åŒºåŸŸ
        document.getElementById(tabId).classList.remove('hidden');
      });
    });
    
    // ä¸ºå›æ”¾æ ‡ç­¾æ·»åŠ å•ç‹¬çš„ç‚¹å‡»äº‹ä»¶å¤„ç†
    const replayTabButton = document.getElementById('replayTab');
    if(replayTabButton) {
      replayTabButton.addEventListener('click', () => {
        // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
        coursewareTabButtons.forEach(btn => {
          btn.classList.remove('text-red-500', 'border-red-500');
          btn.classList.add('text-gray-400');
          btn.classList.remove('hover:text-white'); // é˜²æ­¢æ‚¬åœæ ·å¼å½±å“
        });
        
        // ä¸ºå½“å‰æŒ‰é’®æ·»åŠ æ´»åŠ¨çŠ¶æ€
        replayTabButton.classList.remove('text-gray-400');
        replayTabButton.classList.add('text-red-500', 'border-red-500');
        
        // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
        coursewareTabContents.forEach(content => {
          content.classList.add('hidden');
        });
        
        // æ˜¾ç¤ºå›æ”¾å†…å®¹åŒºåŸŸ
        document.getElementById('replayContent').classList.remove('hidden');
      });
    }
    
    // æ·»åŠ å›æ”¾åŠŸèƒ½ç›¸å…³é€»è¾‘
    const replayItems = document.querySelectorAll('#replayContent .flex');
    replayItems.forEach(item => {
      item.addEventListener('click', function() {
        const videoLink = this.querySelector('a');
        if (videoLink) {
          // è¿™é‡Œå¯ä»¥æ·»åŠ è·³è½¬åˆ°å›æ”¾è§†é¢‘çš„é€»è¾‘
          console.log('è·³è½¬åˆ°å›æ”¾è§†é¢‘');
        }
      });
    });
    
    // å³ä¾§æ æ”¶èµ·/å±•å¼€åŠŸèƒ½
    const sidebar = document.getElementById('sidebar');
    const collapseBtn = document.getElementById('collapseSidebarBtn');
    const expandBtn = document.getElementById('expandSidebarBtn');
    
    if(collapseBtn && expandBtn) {
      // æ”¶èµ·å³ä¾§æ 
      collapseBtn.addEventListener('click', function() {
        sidebar.classList.add('sidebar-collapsed');
        expandBtn.classList.add('expand-btn-visible');
      });
      
      // å±•å¼€å³ä¾§æ 
      expandBtn.addEventListener('click', function() {
        sidebar.classList.remove('sidebar-collapsed');
        expandBtn.classList.remove('expand-btn-visible');
      });
    }
    
    // æ’­æ”¾å™¨åŠŸèƒ½æŒ‰é’®
    const videoPlayer = document.getElementById('liveVideo');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const refreshBtn = document.getElementById('refreshBtn');
    const rotateBtn = document.getElementById('rotateBtn');
    const danmakuBtn = document.getElementById('danmakuBtn');
    const volumeBtn = document.getElementById('volumeBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const pipBtn = document.getElementById('pipBtn');
    
    // åˆ·æ–°åŠŸèƒ½
    if(refreshBtn) {
      refreshBtn.addEventListener('click', function() {
        // æ‰§è¡Œé¡µé¢åˆ·æ–°æ“ä½œ
        window.location.reload();
      });
    }
    
    // æ’­æ”¾/æš‚åœåŠŸèƒ½
    if(playPauseBtn) {
      // åˆå§‹çŠ¶æ€ä¸ºæš‚åœçŠ¶æ€ï¼Œæ˜¾ç¤ºæ’­æ”¾å›¾æ ‡
      playPauseBtn.innerHTML = '<i class="fa fa-play"></i>';
      
      playPauseBtn.addEventListener('click', function() {
        if(videoPlayer.paused) {
          videoPlayer.play();
          playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
        } else {
          videoPlayer.pause();
          playPauseBtn.innerHTML = '<i class="fa fa-play"></i>';
        }
      });
      
      // ç›‘å¬è§†é¢‘æ’­æ”¾/æš‚åœçŠ¶æ€å˜åŒ–ï¼ŒåŒæ­¥æŒ‰é’®çŠ¶æ€
      videoPlayer.addEventListener('play', function() {
        playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
      });
      
      videoPlayer.addEventListener('pause', function() {
        playPauseBtn.innerHTML = '<i class="fa fa-play"></i>';
      });
    }
    
    // æ—‹è½¬åŠŸèƒ½
    if(rotateBtn) {
      let rotationAngle = 0;
      rotateBtn.addEventListener('click', function() {
        rotationAngle += 90;
        videoPlayer.style.transform = `rotate(${rotationAngle}deg)`;
      });
    }
    
    // å¼¹å¹•åŠŸèƒ½
    if(danmakuBtn) {
      danmakuBtn.addEventListener('click', function() {
        // å¼¹å¹•åŠŸèƒ½çš„å®ç°
        alert('å¼¹å¹•åŠŸèƒ½å·²å¼€å¯');
      });
    }
    
    // éŸ³é‡æ§åˆ¶åŠŸèƒ½
    if(volumeBtn && volumeSlider) {
      // åˆå§‹è®¾ç½®éŸ³é‡
      videoPlayer.volume = volumeSlider.value / 100;
      
      // ç‚¹å‡»é™éŸ³æŒ‰é’®åˆ‡æ¢é™éŸ³çŠ¶æ€
      volumeBtn.addEventListener('click', function() {
        if(videoPlayer.muted) {
          videoPlayer.muted = false;
          volumeBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
        } else {
          videoPlayer.muted = true;
          volumeBtn.innerHTML = '<i class="fa fa-volume-mute"></i>';
        }
      });
      
      // éŸ³é‡æ»‘å—å˜åŒ–
      volumeSlider.addEventListener('input', function() {
        videoPlayer.volume = volumeSlider.value / 100;
        if(videoPlayer.volume === 0) {
          videoPlayer.muted = true;
          volumeBtn.innerHTML = '<i class="fa fa-volume-mute"></i>';
        } else {
          videoPlayer.muted = false;
          volumeBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
        }
      });
    }
    
    // ç”»ä¸­ç”»åŠŸèƒ½
    if(pipBtn) {
      pipBtn.addEventListener('click', async function() {
        try {
          if (videoPlayer.requestPictureInPicture) {
            await videoPlayer.requestPictureInPicture();
          } else {
            alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒç”»ä¸­ç”»åŠŸèƒ½');
          }
        } catch (error) {
          console.error('ç”»ä¸­ç”»åŠŸèƒ½é”™è¯¯:', error);
        }
      });
    }
     // åˆ†äº«æŒ‰é’®åŠŸèƒ½ - æ˜¾ç¤ºåˆ†äº«å¼¹çª—
   const shareBtn = document.getElementById('shareBtn');
   const shareModal = document.getElementById('shareModal');
   const closeShareModal = document.getElementById('closeShareModal');
   const qrCodeImage = document.getElementById('qrCodeImage');
   const shareLinkInput = document.getElementById('shareLinkInput');
   const copyLinkBtn = document.getElementById('copyLinkBtn');
   
   if(shareBtn && shareModal) {
     // æ‰“å¼€åˆ†äº«å¼¹çª—
     shareBtn.addEventListener('click', function() {
       const currentUrl = window.location.href;
       
       // è®¾ç½®é“¾æ¥è¾“å…¥æ¡†çš„å€¼
       if(shareLinkInput) {
         shareLinkInput.value = currentUrl;
       }
       
       // ç”ŸæˆäºŒç»´ç ï¼ˆä½¿ç”¨åœ¨çº¿APIï¼‰
       if(qrCodeImage) {
         // ä½¿ç”¨ qrcode.tec-it.com API ç”ŸæˆäºŒç»´ç ï¼ˆå°ºå¯¸è°ƒæ•´ä¸º208x208ä»¥åŒ¹é…æ–°çš„æ ·å¼ï¼‰
         qrCodeImage.src = `https://api.qrserver.com/v1/create-qr-code/?size=208x208&data=${encodeURIComponent(currentUrl)}`;
         qrCodeImage.onerror = function() {
           // å¦‚æœAPIå¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ
           qrCodeImage.src = `https://chart.googleapis.com/chart?cht=qr&chs=208x208&chl=${encodeURIComponent(currentUrl)}`;
         };
       }
       
       // ç¡®ä¿è¾“å…¥æ¡†ä¸ºåªè¯»çŠ¶æ€
       if(shareLinkInput) {
         shareLinkInput.setAttribute('readonly', 'readonly');
         shareLinkInput.style.cursor = 'default';
       }
       
       // æ˜¾ç¤ºå¼¹çª—
       shareModal.classList.add('show');
       document.body.style.overflow = 'hidden';
     });
     
     // å…³é—­åˆ†äº«å¼¹çª—
     if(closeShareModal) {
       closeShareModal.addEventListener('click', function() {
         shareModal.classList.remove('show');
         document.body.style.overflow = '';
       });
     }
     
     // ç‚¹å‡»èƒŒæ™¯å…³é—­å¼¹çª—
     shareModal.addEventListener('click', function(e) {
       if(e.target === shareModal) {
         shareModal.classList.remove('show');
         document.body.style.overflow = '';
       }
     });
     
     // å¤åˆ¶é“¾æ¥åŠŸèƒ½
     if(copyLinkBtn && shareLinkInput) {
       copyLinkBtn.addEventListener('click', async function() {
         try {
           shareLinkInput.select();
           shareLinkInput.setSelectionRange(0, 99999); // ç§»åŠ¨ç«¯å…¼å®¹
           
           // å°è¯•ä½¿ç”¨ Clipboard API
           if (navigator.clipboard) {
             await navigator.clipboard.writeText(shareLinkInput.value);
           } else {
             // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ä¼ ç»Ÿçš„ execCommand æ–¹æ³•
             document.execCommand('copy');
           }
           
           // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
           const originalHTML = copyLinkBtn.innerHTML;
           copyLinkBtn.innerHTML = '<i class="fa fa-check mr-1"></i>å·²å¤åˆ¶';
           copyLinkBtn.classList.remove('bg-[#2D874B]', 'hover:bg-[#256e3d]');
           copyLinkBtn.classList.add('bg-green-500', 'hover:bg-green-600');
           
           setTimeout(() => {
             copyLinkBtn.innerHTML = originalHTML;
             copyLinkBtn.classList.remove('bg-green-500', 'hover:bg-green-600');
             copyLinkBtn.classList.add('bg-[#2D874B]', 'hover:bg-[#256e3d]');
           }, 2000);
         } catch (err) {
           console.error('å¤åˆ¶é“¾æ¥å¤±è´¥:', err);
           alert('é“¾æ¥å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
         }
       });
     }
     
     // ä¸‹è½½äºŒç»´ç åŠŸèƒ½
     const downloadQrBtn = document.getElementById('downloadQrBtn');
     if(downloadQrBtn && qrCodeImage) {
       downloadQrBtn.addEventListener('click', async function() {
         try {
           // æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å·²åŠ è½½
           if(!qrCodeImage.src || qrCodeImage.complete === false) {
             alert('äºŒç»´ç æ­£åœ¨åŠ è½½ï¼Œè¯·ç¨å€™å†è¯•');
             return;
           }
           
           // åˆ›å»ºcanvasæ¥ç»˜åˆ¶äºŒç»´ç å›¾ç‰‡ï¼ˆå¤„ç†è·¨åŸŸé—®é¢˜ï¼‰
           const canvas = document.createElement('canvas');
           const ctx = canvas.getContext('2d');
           canvas.width = qrCodeImage.naturalWidth || qrCodeImage.width;
           canvas.height = qrCodeImage.naturalHeight || qrCodeImage.height;
           
           // è®¾ç½®è·¨åŸŸå±æ€§
           qrCodeImage.crossOrigin = 'anonymous';
           
           // ç­‰å¾…å›¾ç‰‡åŠ è½½å®Œæˆ
           await new Promise((resolve, reject) => {
             const img = new Image();
             img.crossOrigin = 'anonymous';
             img.onload = function() {
               try {
                 ctx.drawImage(img, 0, 0);
                 resolve();
               } catch (err) {
                 reject(err);
               }
             };
             img.onerror = function() {
               // å¦‚æœè·¨åŸŸå¤±è´¥ï¼Œå°è¯•ç›´æ¥ä¸‹è½½åŸå›¾
               try {
                 const link = document.createElement('a');
                 link.href = qrCodeImage.src;
                 link.download = 'ç›´æ’­é—´äºŒç»´ç .png';
                 link.click();
                 resolve();
               } catch (e) {
                 reject(e);
               }
             };
             img.src = qrCodeImage.src;
           });
           
           // å°†canvasè½¬æ¢ä¸ºblobå¹¶ä¸‹è½½
           canvas.toBlob(function(blob) {
             if(blob) {
               const url = URL.createObjectURL(blob);
               const link = document.createElement('a');
               link.href = url;
               link.download = 'ç›´æ’­é—´äºŒç»´ç .png';
               document.body.appendChild(link);
               link.click();
               document.body.removeChild(link);
               URL.revokeObjectURL(url);
               
               // æ˜¾ç¤ºä¸‹è½½æˆåŠŸæç¤º
               const originalHTML = downloadQrBtn.innerHTML;
               downloadQrBtn.innerHTML = '<i class="fa fa-check"></i><span>å·²ä¿å­˜</span>';
               downloadQrBtn.classList.remove('border-[#2D874B]', 'text-[#2D874B]', 'hover:bg-[#2D874B]', 'hover:text-white');
               downloadQrBtn.classList.add('border-green-500', 'text-green-500', 'bg-green-50', 'hover:bg-green-100');
               
               setTimeout(() => {
                 downloadQrBtn.innerHTML = originalHTML;
                 downloadQrBtn.classList.remove('border-green-500', 'text-green-500', 'bg-green-50', 'hover:bg-green-100');
                 downloadQrBtn.classList.add('border-[#2D874B]', 'text-[#2D874B]', 'hover:bg-[#2D874B]', 'hover:text-white');
               }, 2000);
             }
           }, 'image/png');
         } catch (err) {
           console.error('ä¸‹è½½äºŒç»´ç å¤±è´¥:', err);
           // é™çº§æ–¹æ¡ˆï¼šç›´æ¥ä¸‹è½½åŸå›¾
           try {
             const link = document.createElement('a');
             link.href = qrCodeImage.src;
             link.download = 'ç›´æ’­é—´äºŒç»´ç .png';
             link.target = '_blank';
             document.body.appendChild(link);
             link.click();
             document.body.removeChild(link);
           } catch (e) {
             alert('ä¸‹è½½å¤±è´¥ï¼Œè¯·å³é”®ç‚¹å‡»äºŒç»´ç å›¾ç‰‡é€‰æ‹©"å¦å­˜ä¸º"');
           }
         }
       });
     }
   }
   
   // å±å¹•åˆ†äº«åŠŸèƒ½
   const screenShareBtn = document.getElementById('screenShareBtn');
   if(screenShareBtn) {
     screenShareBtn.addEventListener('click', async function() {
       try {
         // è¯·æ±‚å±å¹•å…±äº«
         const stream = await navigator.mediaDevices.getDisplayMedia({ 
           video: { mediaSource: 'screen' }
         });
         
         // æ˜¾ç¤ºä¸´æ—¶æç¤º
         const originalHTML = screenShareBtn.innerHTML;
         screenShareBtn.innerHTML = '<i class="fa fa-stop"></i>';
         
         // ç›‘å¬æµç»“æŸäº‹ä»¶ï¼Œæ¢å¤åŸå§‹å›¾æ ‡
         stream.getTracks()[0].onended = function() {
           screenShareBtn.innerHTML = originalHTML;
         };
         
       } catch (err) {
         console.error('å±å¹•åˆ†äº«å¤±è´¥:', err);
         alert('å±å¹•åˆ†äº«åŠŸèƒ½éœ€è¦HTTPSç¯å¢ƒæˆ–æœ¬åœ°ç¯å¢ƒï¼Œä¸”æµè§ˆå™¨éœ€æ”¯æŒæ­¤åŠŸèƒ½');
       }
     });
   }
   
   // ä¸¾æ‰‹åŠŸèƒ½
   const raiseHandBtn = document.getElementById('raiseHandBtn');
   if(raiseHandBtn) {
     raiseHandBtn.addEventListener('click', function() {
       // æ˜¾ç¤ºä¸¾æ‰‹çŠ¶æ€
       const originalHTML = raiseHandBtn.innerHTML;
       const originalClass = raiseHandBtn.className;
       
       // åˆ‡æ¢ä¸¾æ‰‹çŠ¶æ€ï¼ˆæ¿€æ´»/å–æ¶ˆï¼‰
       if(raiseHandBtn.classList.contains('bg-blue-500')) {
         // å¦‚æœå½“å‰æ˜¯ä¸¾æ‰‹çŠ¶æ€ï¼Œåˆ™å–æ¶ˆä¸¾æ‰‹
         raiseHandBtn.className = 'w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center hover:bg-opacity-70 transition';
         raiseHandBtn.innerHTML = '<i class="fa fa-hand-paper"></i>';
         alert('æ‚¨å·²å–æ¶ˆä¸¾æ‰‹');
       } else {
         // è®¾ç½®ä¸ºä¸¾æ‰‹çŠ¶æ€
         raiseHandBtn.className = 'w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center hover:bg-opacity-70 transition';
         raiseHandBtn.innerHTML = '<i class="fa fa-hand-paper"></i>';
         alert('æ‚¨å·²ä¸¾æ‰‹ï¼Œè¯·ç­‰å¾…ä¸»æŒäººå“åº”');
       }
     });
   }

   // ç‚¹èµåŠŸèƒ½
   const likeBtn = document.getElementById('likeBtn');
   if(likeBtn) {
     likeBtn.addEventListener('click', function() {
       // åˆ›å»ºç‚¹èµæç¤º
       showLikeNotification();
     });
   }

   // æ˜¾ç¤ºç‚¹èµæç¤º
   function showLikeNotification() {
     // ç”Ÿæˆéšæœºç”¨æˆ·åï¼ˆå®é™…åº”ç”¨ä¸­åº”è¯¥ä½¿ç”¨çœŸå®ç”¨æˆ·åï¼‰
     const usernames = ['ç”¨æˆ·', 'è§‚ä¼—', 'å­¦ä¹ è€…', 'è®¿å®¢', 'å‚ä¸è€…'];
     const randomUsername = usernames[Math.floor(Math.random() * usernames.length)];
     
     // è·å–å½“å‰æ‰€æœ‰æ´»åŠ¨çš„ç‚¹èµæç¤ºæ•°é‡
     const existingNotifications = document.querySelectorAll('.like-notification');
     const currentCount = existingNotifications.length;
     
     // åˆ›å»ºæç¤ºå…ƒç´ 
     const notification = document.createElement('div');
     notification.className = 'like-notification';
     // å›ºå®šä½ç½®ï¼Œä¸æ ¹æ®è®¡æ•°è°ƒæ•´
     notification.style.bottom = '100px';
     notification.innerHTML = `
       <i class="fa fa-thumbs-up"></i>
       <span>${randomUsername}ç‚¹èµäº†</span>
     `;
     
     // æ·»åŠ åˆ°é¡µé¢
     document.body.appendChild(notification);
     
     // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
     setTimeout(() => {
       notification.remove();
     }, 3000);
     
     // æ·»åŠ æŒ‰é’®ç‚¹å‡»åé¦ˆ
     likeBtn.style.transform = 'scale(0.9)';
     setTimeout(() => {
       likeBtn.style.transform = 'scale(1)';
     }, 150);
   }

});
</script>

<!-- åˆ†äº«å¼¹çª— -->
<div id="shareModal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm">
  <div class="share-modal-content bg-white rounded-3xl p-8 max-w-md w-[90%] mx-auto shadow-2xl transform transition-all">
    <!-- æ ‡é¢˜æ  -->
    <div class="flex items-center justify-between mb-6">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-full bg-[#2D874B]/10 flex items-center justify-center">
          <i class="fa fa-share-alt text-[#2D874B]"></i>
        </div>
        <h3 class="text-xl font-bold text-gray-800">åˆ†äº«ç›´æ’­é—´</h3>
      </div>
      <button id="closeShareModal" class="w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors duration-200">
        <i class="fa fa-times text-gray-400 hover:text-gray-600"></i>
      </button>
    </div>
    
    <div class="flex flex-col items-center space-y-6">
      <!-- äºŒç»´ç åŒºåŸŸ -->
      <div class="w-full flex flex-col items-center">
        <div class="bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-2xl border border-gray-200 shadow-inner">
          <div class="bg-white p-3 rounded-xl shadow-sm">
            <img id="qrCodeImage" src="" alt="äºŒç»´ç " class="w-52 h-52 block">
          </div>
        </div>
        <div class="flex items-center gap-3 mt-4">
          <button 
            id="downloadQrBtn" 
            class="px-5 py-2.5 bg-white border-2 border-[#2D874B] text-[#2D874B] rounded-xl hover:bg-[#2D874B] hover:text-white active:scale-95 transition-all text-sm font-medium shadow-sm hover:shadow-md flex items-center gap-2"
          >
            <i class="fa fa-download"></i>
            <span>ä¿å­˜äºŒç»´ç </span>
          </button>
        </div>
        <p class="text-xs text-gray-500 mt-2 text-center">æ‰«æäºŒç»´ç å³å¯è®¿é—®ç›´æ’­é—´</p>
      </div>
      
      <!-- é“¾æ¥åŒºåŸŸ -->
      <div class="w-full">
        <label class="block text-sm font-semibold text-gray-700 mb-2.5 flex items-center gap-2">
          <i class="fa fa-link text-[#2D874B] text-xs"></i>
          åˆ†äº«é“¾æ¥
        </label>
        <div class="flex items-center gap-2.5">
          <div class="flex-1 relative">
            <input 
              type="text" 
              id="shareLinkInput" 
              readonly 
              value=""
              class="w-full px-4 py-3 pr-10 border-2 border-gray-200 rounded-xl text-sm bg-gray-50 text-gray-700 cursor-default focus:outline-none focus:border-[#2D874B] focus:bg-white transition-all"
              style="cursor: default;"
            >
            <div class="absolute right-3 top-1/2 -translate-y-1/2">
              <i class="fa fa-lock text-gray-400 text-xs" title="åªè¯»"></i>
            </div>
          </div>
          <button 
            id="copyLinkBtn" 
            class="px-5 py-3 bg-[#2D874B] text-white rounded-xl hover:bg-[#256e3d] active:scale-95 transition-all text-sm font-medium whitespace-nowrap shadow-sm hover:shadow-md flex items-center gap-2"
          >
            <i class="fa fa-copy"></i>
            <span>å¤åˆ¶</span>
          </button>
        </div>
        <p class="text-xs text-gray-400 mt-2 text-center">ç‚¹å‡»å¤åˆ¶æŒ‰é’®å³å¯å¤åˆ¶é“¾æ¥</p>
      </div>
    </div>
  </div>
</div>

<style>
  .share-modal-content,
  .lottery-modal-content {
    animation: modalSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: scale(0.85) translateY(-30px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
  
  #shareModal.show {
    display: flex;
  }

  /* ä¸­å¥–ä¿¡æ¯ç¼©å°å›¾æ ‡ï¼šå‡ºç°æ—¶ä»å³ä¸‹è§’å¼¹å‡ºåŠ¨æ•ˆ */
  .lottery-win-icon {
    animation: lotteryIconPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .lottery-win-icon.lottery-win-icon-visible {
    display: flex !important;
  }
  @keyframes lotteryIconPop {
    from {
      opacity: 0;
      transform: scale(0);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  /* ç¡®ä¿åªè¯»è¾“å…¥æ¡†æ ·å¼ */
  #shareLinkInput[readonly] {
    cursor: default;
    user-select: text;
  }
  
  #shareLinkInput[readonly]:focus {
    cursor: text;
  }
</style>

</body>
</html>
</html>