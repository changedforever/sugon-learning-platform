<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>考试列表 - SUGON 合作伙伴赋能平台</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 图标库 -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body {
      background: #FFFFFF;
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(14px);
      border: 1px solid #e5e7eb;
    }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .filter-chip-active {
      border-color: #B01F24;
      color: #B01F24;
      background: rgba(255, 255, 255, 0.9);
    }
  </style>
</head>
<body class="bg-white text-gray-800">

<!-- 顶部导航（SUGON） -->
<header class="fixed top-0 inset-x-0 z-50 bg-[#B01F24] backdrop-blur-xl border-b border-gray-300">
  <div class="max-w-7xl mx-auto px-4 lg:px-6">
    <div class="flex items-center justify-between h-14">
      <!-- 左侧：返回首页 -->
      <div class="flex items-center space-x-3">
        <a href="index.html" class="flex items-center space-x-2 group">
          <button class="h-8 w-8 rounded-full bg-white/20 border border-white/30 flex items-center justify-center group-hover:border-white/50">
            <i class="fa fa-chevron-left text-white text-xs"></i>
          </button>
          <div class="hidden sm:block">
            <div class="text-[11px] uppercase tracking-widest text-white/80">SUGON</div>
            <div class="text-sm font-semibold group-hover:text-white/90 text-white">
              合作伙伴赋能平台 · 考试中心
            </div>
          </div>
        </a>
      </div>

      <!-- 中间：标题 >
      <div class="hidden md:flex flex-col items-center">
        <span class="text-[11px] text-slate-400">考试中心</span>
        <span class="text-sm font-medium line-clamp-1 max-w-xs">考试列表</span>
      </div-->

      <!-- 右侧：入口 -->
      <div class="flex items-center space-x-2 text-xs">
        <a href="personal-center.html" class="px-3 py-1.5 rounded-full bg-white/20 border border-white/30 hover:border-white/50 transition text-white">
          个人中心
        </a>
        <a href="#" class="px-3 py-1.5 rounded-full bg-white text-[#B01F24] font-medium">
          登录
        </a>
      </div>
    </div>
  </div>
</header>

<main class="pt-16 lg:pt-20 pb-10">
  <section class="max-w-7xl mx-auto px-4 lg:px-6">
    <!-- 顶部说明 + 搜索 & 排序 -->
    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-6">
      <div>
        <h2 class="text-lg font-semibold flex items-center gap-2">
          <span class="inline-flex h-6 w-1 rounded-full bg-[#B01F24]"></span>
          考试列表
        </h2>

      </div>

      <div class="flex flex-wrap items-center gap-2 justify-end">
        <!-- 搜索 -->
        <div class="relative">
          <i class="fa fa-search text-gray-400 absolute left-2 top-2.5 text-xs"></i>
          <input id="search-input"
                 type="text"
                 placeholder="搜索考试名称 / 发布来源 / 岗位"
                 class="w-52 md:w-64 rounded-full bg-white/80 border border-gray-300 pl-7 pr-3 py-1.5 text-xs placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[#B01F24] focus:border-[#B01F24]" />
        </div>
        <!-- 排序 -->
        <div class="flex items-center gap-1 text-xs">
          <span class="text-gray-400">排序：</span>
          <select id="sort-select"
                  class="rounded-full bg-white/80 border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-[#B01F24]">
            <option value="newest">最新发布</option>
            <option value="most-popular">最热考试</option>
          </select>
        </div>
      </div>
    </div>

    <!-- 多维筛选：岗位 / 难度 -->
    <section class="mb-6">
      <div class="glass-card rounded-3xl border border-gray-300 p-4 space-y-3">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-2">
            <!--i class="fa fa-filter text-indigo-400 text-sm"></i>
            <span class="text-sm font-medium">多维筛选</span-->
          </div>
          <span id="active-filter-text" class="text-[11px] text-gray-600">
            已选条件：全部
          </span>
        </div>

        <div class="grid md:grid-cols-2 gap-3 text-xs">
          <!-- 岗位 -->
          <div>
            <div class="text-gray-600 mb-1 flex items-center justify-between">
              <span>岗位</span>
            </div>
            <div class="flex flex-wrap gap-1">
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px]"
                      data-filter="role" data-value="all">
                全部
              </button>
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px] text-[#B01F24]"
                      data-filter="role" data-value="云架构师">
                云架构师
              </button>
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px] text-[#B01F24]"
                      data-filter="role" data-value="解决方案顾问">
                解决方案顾问
              </button>
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px] text-[#B01F24]"
                      data-filter="role" data-value="销售">
                销售
              </button>
            </div>
          </div>

          <!-- 难度 -->
          <div>
            <div class="text-gray-600 mb-1 flex items-center justify-between">
              <span>难度</span>
            </div>
            <div class="flex flex-wrap gap-1">
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px]"
                      data-filter="difficulty" data-value="all">
                全部
              </button>
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px] text-[#B01F24]"
                      data-filter="difficulty" data-value="基础">
                基础
              </button>
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px] text-[#B01F24]"
                      data-filter="difficulty" data-value="中级">
                中级
              </button>
              <button class="filter-chip px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 text-[11px] text-[#B01F24]"
                      data-filter="difficulty" data-value="高级">
                高级
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 考试列表 + 分页 -->
    <section>
      <!-- 统计 + 分页信息 -->
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 text-[11px] text-gray-600 gap-2">
        <div>
          共 <span id="total-count">0</span> 场考试，当前显示
          <span id="current-range">0–0</span>
        </div>
        <div class="flex items-center gap-2">
          <button id="prev-btn"
                  class="px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 hover:bg-gray-100">
            上一页
          </button>
          <span id="page-info">1 / 1</span>
          <button id="next-btn"
                  class="px-2.5 py-1 rounded-full bg-white/80 border border-gray-300 hover:bg-gray-100">
            下一页
          </button>
        </div>
      </div>

      <!-- 网格卡片 -->
      <div id="exam-list"
           class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
        <!-- 卡片由 JS 注入 -->
      </div>
    </section>
  </section>
</main>

<!-- 底部 -->
<footer class="border-t border-gray-300 mt-8 pt-4 pb-6">
  <div class="max-w-7xl mx-auto px-4 lg:px-6 text-[11px] text-gray-600 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
    <div>© 2026 SUGON 合作伙伴赋能平台 · 考试中心</div>
    <div class="flex flex-wrap gap-3">
      <span>隐私政策</span>
      <span>法律声明</span>
      <span>版权信息</span>
    </div>
  </div>
</footer>

<!-- 交互脚本：筛选 / 排序 / 分页 / 开始考试 -->
<script>
  // ===== 模拟考试数据（后续可替换为接口返回） =====
  const allExams = [
    { id: 1, name: "伙伴云架构工程师（P-Cloud Architect）认证考试", source: "云基础设施学院", date: "2026-01-15 09:00-11:00", role: "云架构师", difficulty: "高级", participants: 2345 },
    { id: 2, name: "AI 与数据智能认证考试", source: "AI 与数据智能学院", date: "2026-01-12 14:00-16:00", role: "数据分析师", difficulty: "中级", participants: 1890 },
    { id: 3, name: "解决方案售前高级认证", source: "解决方案与售前学院", date: "2026-01-10 09:00-11:00", role: "解决方案顾问", difficulty: "高级", participants: 1560 },
    { id: 4, name: "DevOps 工具链与实践认证", source: "云基础设施学院", date: "2026-01-08 19:00-21:00", role: "DevOps 工程师", difficulty: "中级", participants: 1340 },
    { id: 5, name: "金融行业云原生解决方案认证", source: "解决方案与售前学院", date: "2025-12-30 14:00-16:00", role: "解决方案顾问", difficulty: "高级", participants: 1120 },
    { id: 6, name: "生态技术领袖（P-Eco Leader）认证评审", source: "生态合作中心", date: "2025-12-25 10:00-12:00", role: "技术专家", difficulty: "高级", participants: 980 },
    { id: 7, name: "AIGC 应用开发能力认证", source: "AI 与数据智能学院", date: "2025-12-22 09:00-11:00", role: "开发者", difficulty: "中级", participants: 860 },
    { id: 8, name: "云安全与零信任架构认证", source: "云基础设施学院", date: "2025-12-20 09:00-11:00", role: "云安全专家", difficulty: "高级", participants: 750 }
  ];

  const pageSize = 8;
  let currentPage = 1;
  let filteredExams = [...allExams];

  const filters = {
    role: 'all',
    difficulty: 'all',
    search: ''
  };

  // DOM 引用
  const searchInput = document.getElementById('search-input');
  const sortSelect = document.getElementById('sort-select');
  const examList = document.getElementById('exam-list');
  const totalCountEl = document.getElementById('total-count');
  const currentRangeEl = document.getElementById('current-range');
  const pageInfoEl = document.getElementById('page-info');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const activeFilterText = document.getElementById('active-filter-text');
  const filterChips = document.querySelectorAll('.filter-chip');

  // 绑定筛选 chip
  filterChips.forEach(chip => {
    chip.addEventListener('click', () => {
      const type = chip.dataset.filter;
      const value = chip.dataset.value;
      document.querySelectorAll(`.filter-chip[data-filter="${type}"]`)
        .forEach(c => c.classList.remove('filter-chip-active'));
      chip.classList.add('filter-chip-active');
      filters[type] = value;
      applyFiltersAndRender();
    });
  });

  // 搜索
  searchInput.addEventListener('input', () => {
    filters.search = searchInput.value.trim().toLowerCase();
    applyFiltersAndRender();
  });

  // 排序
  sortSelect.addEventListener('change', () => {
    applyFiltersAndRender();
  });

  // 分页按钮
  prevBtn.addEventListener('click', () => {
    if (currentPage > 1) {
      currentPage--;
      renderList();
    }
  });
  nextBtn.addEventListener('click', () => {
    const totalPages = Math.ceil(filteredExams.length / pageSize) || 1;
    if (currentPage < totalPages) {
      currentPage++;
      renderList();
    }
  });

  // 应用筛选 + 排序
  function applyFiltersAndRender() {
    filteredExams = allExams.filter(e => {
      const matchRole = filters.role === 'all' || e.role === filters.role;
      const matchDifficulty = filters.difficulty === 'all' || e.difficulty === filters.difficulty;
      const kw = filters.search;
      const matchSearch = !kw ||
        e.name.toLowerCase().includes(kw) ||
        e.source.toLowerCase().includes(kw) ||
        (e.role || '').toLowerCase().includes(kw) ||
        (e.difficulty || '').toLowerCase().includes(kw);
      return matchRole && matchDifficulty && matchSearch;
    });

    // 排序：最新（按时间字符串倒序，这里可改为后端返回时间戳）、最热（已考人数）
    if (sortSelect.value === 'newest') {
      filteredExams.sort((a, b) => b.date.localeCompare(a.date));
    } else {
      filteredExams.sort((a, b) => b.participants - a.participants);
    }

    currentPage = 1;
    updateFilterText();
    renderList();
  }

  // 更新“已选条件”
  function updateFilterText() {
    const parts = [];
    if (filters.role !== 'all') parts.push(`岗位：${filters.role}`);
    if (filters.difficulty !== 'all') parts.push(`难度：${filters.difficulty}`);
    if (filters.search) parts.push(`关键词：“${filters.search}”`);
    activeFilterText.textContent = '已选条件：' + (parts.length ? parts.join(' / ') : '全部');
  }

  // 渲染列表
  function renderList() {
    examList.innerHTML = '';
    const total = filteredExams.length;
    const totalPages = Math.ceil(total / pageSize) || 1;
    const startIndex = (currentPage - 1) * pageSize;
    const endIndex = Math.min(startIndex + pageSize, total);

    const pageData = filteredExams.slice(startIndex, endIndex);
    pageData.forEach(exam => {
      const card = document.createElement('article');
      card.className = 'glass-card rounded-3xl border border-gray-300 p-4 flex flex-col justify-between hover:-translate-y-1 hover:border-[#B01F24]/80 transition cursor-pointer';

      card.innerHTML = `
        <div>
          <h3 class="text-sm font-semibold line-clamp-2 mb-2">${exam.name}</h3>

          <div class="flex items-center justify-between mb-1">
            <span class="text-xs text-gray-600 truncate max-w-[140px]">${exam.source}</span>
            <span class="text-xs text-amber-600 flex items-center gap-1">
              <i class="fa fa-fire text-[10px]"></i>
              ${exam.participants.toLocaleString()} 人已考
            </span>
          </div>

          <div class="flex flex-wrap gap-1 text-[10px] text-gray-700">
            <span class="inline-flex items-center px-1.5 py-0.5 rounded-full bg-white border border-gray-300">
              <i class="fa fa-user-tie mr-1 text-[9px] text-[#B01F24]"></i>${exam.role}
            </span>
            <span class="inline-flex items-center px-1.5 py-0.5 rounded-full bg-white border border-gray-300">
              <i class="fa fa-signal mr-1 text-[9px] text-[#B01F24]"></i>${exam.difficulty}
            </span>
            <span class="inline-flex items-center px-1.5 py-0.5 rounded-full bg-white border border-gray-300">
              <i class="fa fa-calendar mr-1 text-[9px] text-[#B01F24]"></i>${exam.date}
            </span>
          </div>
        </div>

        <div class="mt-3 flex items-center justify-between text-[11px] text-gray-600">
          <button class="start-btn px-3 py-1.5 rounded-full bg-[#B01F24] text-white text-[11px] font-medium hover:opacity-90"
                  data-id="${exam.id}">
            报名考试
          </button>
        </div>
      `;
      examList.appendChild(card);
    });

    totalCountEl.textContent = total;
    currentRangeEl.textContent = total ? `${startIndex + 1}–${endIndex}` : '0–0';
    pageInfoEl.textContent = `${currentPage} / ${totalPages}`;

    prevBtn.disabled = currentPage === 1;
    nextBtn.disabled = currentPage === totalPages;
    prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
    nextBtn.classList.toggle('opacity-50', nextBtn.disabled);

    // 开始考试按钮：实际使用时跳转到在线考试页或详情页
    document.querySelectorAll('.start-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const id = btn.dataset.id;
        const exam = allExams.find(item => item.id == id);
        // 这里仅示例，实际应检查报名状态后跳转
        alert(`即将进入「${exam.name}」，可在考试详情页确认场次并开始考试。`);
        window.location.href = 'exam-online.html?id=' + id;
      });
    });
  }

  // 初始化：默认“全部”chip激活
  document.querySelectorAll('.filter-chip[data-value="all"]').forEach(chip => {
    chip.classList.add('filter-chip-active');
  });
  applyFiltersAndRender();
</script>

</body>
</html>