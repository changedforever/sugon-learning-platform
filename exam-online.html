<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>考试详情 - SUGON 合作伙伴赋能平台</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 图标库 -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body {
      background: #FFFFFF;
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(14px);
      border: 1px solid #e5e7eb;
    }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    .tab-active {
      border-color: #B01F24;
      color: #B01F24;
      background: rgba(255, 255, 255, 0.9);
    }
    .overlay {
      background: rgba(0,0,0,0.5);
    }
  </style>
</head>
<body class="bg-white text-gray-800">

<!-- 顶部导航：SUGON 品牌 -->
<header class="fixed top-0 inset-x-0 z-50 bg-[#B01F24] backdrop-blur-xl border-b border-gray-300">
  <div class="max-w-7xl mx-auto px-4 lg:px-6">
    <div class="flex items-center justify-between h-14">
      <!-- 左侧：返回考试列表 -->
      <div class="flex items-center space-x-3">
        <a href="exam-list.html" class="flex items-center space-x-2 group">
          <button class="h-8 w-8 rounded-full bg-white/20 border border-white/30 flex items-center justify-center group-hover:border-white/50">
            <i class="fa fa-chevron-left text-white text-xs"></i>
          </button>
          <div class="hidden sm:block">
            <div class="text-[11px] uppercase tracking-widest text-white/80">SUGON</div>
            <div class="text-sm font-semibold group-hover:text-white/90 text-white">
              考试中心 · 考试详情
            </div>
          </div>
        </a>
      </div>

      <!-- 中间：考试名称 -->
      <div class="hidden md:flex flex-col items-center">
        <span class="text-[11px] text-white/80">当前考试</span>
        <span class="text-sm font-medium line-clamp-1 max-w-xs text-white">
          伙伴云架构工程师（P-Cloud Architect）认证考试
        </span>
      </div>

      <!-- 右侧：报名状态（由 JS 控制隐藏/显示） -->
      <div class="flex items-center space-x-2 text-xs">
        <span id="header-enroll-badge"
              class="hidden inline-flex items-center px-3 py-1 rounded-full border border-emerald-500 bg-emerald-100 text-emerald-700">
          <i class="fa fa-check-circle mr-1 text-[11px] text-emerald-600"></i> 已报名
        </span>
      </div>
    </div>
  </div>
</header>

<main class="pt-16 lg:pt-20 pb-10">
  <section class="max-w-7xl mx-auto px-4 lg:px-6 grid lg:grid-cols-3 gap-6 items-start">
    <!-- 左侧：考试概览 + 介绍 -->
    <div class="lg:col-span-2 space-y-4">
      <!-- 顶部封面区域（可替换为 Banner 图） -->
      <div class="relative overflow-hidden rounded-3xl border border-gray-300 glass-card">
        <div class="relative h-48 md:h-60 lg:h-64">
          <img
            src="https://images.unsplash.com/photo-1553877522-43269d4ea984?auto=format&fit=crop&w=1600&q=80"
            alt="考试封面"
            class="w-full h-full object-cover opacity-70">
          <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/30 to-black/60"></div>

          <div class="absolute inset-0 flex flex-col justify-center px-5 md:px-8 lg:px-10 space-y-3 z-10">
            <div class="flex flex-wrap items-center gap-2 text-[11px]">
              <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-white/90 border border-gray-300 text-[#B01F24]">
                <i class="fa fa-shield-halved mr-1 text-[10px] text-[#B01F24]"></i>
                官方认证考试
              </span>
              <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-emerald-100 border border-emerald-300 text-emerald-700">
                云架构 · 高级
              </span>
              <span class="inline-flex items-center px-2.5 py-1 rounded-full bg-amber-100 border border-amber-300 text-amber-700">
                <i class="fa fa-users mr-1 text-[10px] text-amber-600"></i>
                2,345 人已报名
              </span>
            </div>
            <h1 class="text-xl md:text-2xl lg:text-3xl font-semibold leading-snug text-white">
              伙伴云架构工程师（P-Cloud Architect）认证考试
            </h1>
            <p class="text-xs md:text-sm text-white/90 max-w-2xl">
              面向合作伙伴云架构师的权威认证考试，考察云原生架构设计、容器编排、CI/CD、可观测性与安全合规等关键能力，
              通过考试后可获得官方证书与相应伙伴等级加分。
            </p>
            <div class="flex flex-wrap items-center gap-3 text-[11px] text-white/90">
              <span><i class="fa fa-clock mr-1 text-emerald-400"></i>考试时长：90 分钟</span>
              <span><i class="fa fa-calendar mr-1 text-sky-400"></i>考试时间：2026-01-15 09:00-11:00（UTC+8）</span>
              <span><i class="fa fa-signal mr-1 text-amber-400"></i>难度：高级</span>
            </div>
          </div>
        </div>
      </div>

      <!-- 详情 Tab：考试介绍 / 考试记录 -->
      <section class="mt-4">
        <!-- Tab 按钮 -->
        <div class="flex flex-wrap gap-2 text-xs mb-4">
          <button class="tab-btn tab-active px-3 py-1.5 rounded-full bg-white/80 border border-gray-300"
                  data-target="tab-intro">
            考试介绍
          </button>
          <button class="tab-btn px-3 py-1.5 rounded-full bg-white/80 border border-gray-300"
                  data-target="tab-records">
            考试记录
          </button>
        </div>

        <!-- Tab 内容容器 -->
        <div class="glass-card rounded-3xl border border-gray-300 p-4 md:p-6">
          <!-- 考试介绍 -->
          <div id="tab-intro" class="tab-panel">
            <h2 class="text-lg font-semibold mb-3 text-gray-800">考试介绍</h2>
            <p class="text-sm text-gray-600 leading-6">
              本考试围绕「如何设计、构建并运营企业级云原生架构」展开，包含选择题、判断题和综合场景题。
              通过本考试的考生将被认定具备中大型云原生项目的架构设计与落地能力。
            </p>
            <ul class="mt-4 text-sm text-gray-600 space-y-1 list-disc pl-5">
              <li>题型结构：判断题 / 单选题 / 多选题 / 场景题综合</li>
              <li>考试形式：在线闭卷 · 自动监测切屏和复制行为</li>
              <li>评分规则：客观题自动评分，场景题由官方评审补充打分</li>
              <li>通过标准：总分 ≥ 60 分，且未被判定为作弊</li>
              <li>考试次数：每位考生每季度可参加 2 次本考试</li>
            </ul>
            <p class="mt-4 text-sm text-gray-600">
              建议先完成配套课程「云原生解决方案实战 | 中级」，再参加本考试，以提升一次性通过率。
            </p>
          </div>

          <!-- 考试记录 -->
          <div id="tab-records" class="tab-panel hidden">
            <h2 class="text-lg font-semibold mb-3 text-gray-800">考试记录</h2>
            <p class="text-xs text-gray-500 mb-3">
              展示你在本认证考试中的历史成绩与状态，仅本人可见。
            </p>

            <div class="space-y-3 text-xs">
              <!-- 示例记录：可根据真实数据循环渲染 -->
              <article class="flex items-center justify-between px-3 py-2 rounded-2xl bg-white/80 border border-gray-300">
                <div class="flex-1">
                  <div class="text-sm font-medium text-gray-800">2025-12-20 09:00 场次</div>
                  <div class="text-xs text-gray-600">
                    得分：85 / 100 · 用时：78 分钟 · 正确率：85%
                  </div>
                </div>
                <div class="text-right text-[11px]">
                  <span class="inline-flex items-center px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-300">
                    <i class="fa fa-check mr-1 text-[9px] text-emerald-600"></i> 通过
                  </span>
                  <div class="mt-1 text-gray-600">
                    <a href="exam-result.html?id=exam-cloud-architect&attempt=20251220"
                       class="hover:text-[#B01F24]">
                      查看详情
                    </a>
                  </div>
                </div>
              </article>

              <article class="flex items-center justify-between px-3 py-2 rounded-2xl bg-white/80 border border-gray-300">
                <div class="flex-1">
                  <div class="text-sm font-medium text-gray-800">2025-11-30 14:00 场次</div>
                  <div class="text-xs text-gray-600">
                    得分：72 / 100 · 用时：88 分钟 · 正确率：72%
                  </div>
                </div>
                <div class="text-right text-[11px]">
                  <span class="inline-flex items-center px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-300">
                    未通过
                  </span>
                  <div class="mt-1 text-gray-600">
                    <a href="exam-result.html?id=exam-cloud-architect&attempt=20251130"
                       class="hover:text-[#B01F24]">
                      查看详情
                    </a>
                  </div>
                </div>
              </article>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- 右侧：考试关键信息 + 报名区 -->
    <aside class="lg:col-span-1 glass-card rounded-3xl border border-gray-300 p-4 md:p-5 space-y-4">
      <!-- 关键信息 -->
      <div class="space-y-2 text-xs text-gray-600">
        <div class="flex items-center justify-between">
          <span class="text-gray-500">考试时长</span>
          <span>90 分钟</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-gray-500">题目数量</span>
          <span>50 题（含多种题型）</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-gray-500">已报名人数</span>
          <span>2,345 人</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-gray-500">考试形式</span>
          <span>线上闭卷 · 远程监控</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-gray-500">支持再考</span>
          <span>每季度最多 2 次</span>
        </div>
      </div>

      <!-- 报名 / 开始考试区 -->
      <div class="pt-2 space-y-2">
        <!-- 未报名态：立即报名 -->
        <button id="enroll-btn"
                class="w-full py-2.5 rounded-xl bg-[#B01F24] text-white text-sm font-medium hover:opacity-90">
          <i class="fa fa-pen-to-square mr-1 text-[13px]"></i>
          立即报名本场考试
        </button>

        <!-- 已报名态：开始考试 + 取消报名 -->
        <button id="start-exam-btn"
                class="hidden w-full py-2.5 rounded-xl bg-emerald-500 text-white text-sm font-medium hover:bg-emerald-400">
          <i class="fa fa-circle-play mr-1 text-[13px]"></i>
          进入在线考试
        </button>

        <button id="cancel-enroll-btn"
                class="hidden w-full py-2.5 rounded-xl bg-white text-sm text-gray-700 border border-gray-300 hover:border-rose-400">
          <i class="fa fa-xmark mr-1 text-[13px]"></i>
          取消本场报名
        </button>

        <p id="enroll-tip" class="text-[11px] text-gray-500">
          报名后请提前 10 分钟进入考试环境，检查网络与设备状态。开考 30 分钟后将不再允许进入考试。
        </p>
      </div>
    </aside>
  </section>
</main>

<!-- 考试须知弹窗 -->
<div id="notice-modal"
     class="fixed inset-0 z-40 hidden overlay backdrop-blur-md flex items-center justify-center p-4">
  <div class="glass-card rounded-3xl border border-gray-300 w-full max-w-md p-6 max-h-[80vh] overflow-y-auto no-scrollbar">
    <h2 class="text-lg font-semibold mb-3 text-gray-800">考试须知</h2>
    <p class="text-xs text-gray-600 leading-5 mb-3">
      为保证在线考试的公平、公正，请在报名前仔细阅读以下须知：
    </p>
    <ul class="text-xs text-gray-600 space-y-1 mb-4 list-disc pl-4">
      <li>本考试为线上闭卷考试，请独立完成答题，不得与他人交流或分享试题。</li>
      <li>考试过程中请保持网络稳定，避免刷新或关闭考试页面。</li>
      <li>系统将监控切屏、复制等行为，检测到 <span class="text-amber-600">5 次</span>及以上异常将判定本次成绩无效。</li>
      <li>请提前准备好可正常工作的摄像头和麦克风（如有启用远程监控）。</li>
      <li>建议使用最新版 Chrome / Edge 浏览器，在桌面端进行答题，以获得最佳体验。</li>
    </ul>
    <div class="text-[11px] text-gray-500 mb-4">
      点击"我已知晓并开始考试"视为同意上述所有规则，并将立即进入考试页面开始计时。
    </div>
    <div class="flex gap-3">
      <button id="notice-cancel"
              class="flex-1 py-2 rounded-full bg-white border border-gray-300 hover:bg-gray-100 text-xs">
        取消
      </button>
      <button id="notice-confirm"
              class="flex-1 py-2 rounded-full bg-[#B01F24] text-xs font-medium text-white hover:opacity-90">
        我已知晓并开始考试
      </button>
    </div>
  </div>
</div>

<!-- 底部 -->
<footer class="border-t border-gray-300 mt-8 pt-4 pb-6">
  <div class="max-w-7xl mx-auto px-4 lg:px-6 text-[11px] text-gray-600 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
    <div>© 2026 SUGON 合作伙伴赋能平台 · 考试中心</div>
    <div class="flex flex-wrap gap-3">
      <span>隐私政策</span>
      <span>法律声明</span>
      <span>版权信息</span>
    </div>
  </div>
</footer>

<!-- 交互脚本：Tab / 报名 / 考试须知弹窗 / 跳转考试 -->
<script>
  // === Tab 切换：考试介绍 / 考试记录 ===
  const tabBtns = document.querySelectorAll('.tab-btn');
  const tabPanels = document.querySelectorAll('.tab-panel');

  tabBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const target = btn.dataset.target;
      tabBtns.forEach(b => b.classList.remove('tab-active'));
      btn.classList.add('tab-active');
      tabPanels.forEach(panel => {
        panel.classList.toggle('hidden', panel.id !== target);
      });
    });
  });

  // === 报名状态持久化（模拟） ===
  const EXAM_ID = 'exam-cloud-architect';
  const ENROLL_KEY = 'exam_enrolled_' + EXAM_ID;

  function isEnrolled() {
    try {
      return localStorage.getItem(ENROLL_KEY) === 'true';
    } catch {
      return false;
    }
  }
  function setEnrolled(val) {
    try {
      localStorage.setItem(ENROLL_KEY, val ? 'true' : 'false');
    } catch {}
  }

  // DOM 元素
  const enrollBtn = document.getElementById('enroll-btn');
  const startExamBtn = document.getElementById('start-exam-btn');
  const cancelEnrollBtn = document.getElementById('cancel-enroll-btn');
  const enrollTip = document.getElementById('enroll-tip');
  const headerEnrollBadge = document.getElementById('header-enroll-badge');

  const noticeModal = document.getElementById('notice-modal');
  const noticeCancel = document.getElementById('notice-cancel');
  const noticeConfirm = document.getElementById('notice-confirm');

  function updateEnrollUI() {
    const enrolled = isEnrolled();
    if (enrolled) {
      enrollBtn.classList.add('hidden');
      startExamBtn.classList.remove('hidden');
      cancelEnrollBtn.classList.remove('hidden');
      enrollTip.textContent = '你已报名本场考试，可随时点击「进入在线考试」开始作答（正式考试时请在规定时间内进入）。';
      headerEnrollBadge.classList.remove('hidden');
    } else {
      enrollBtn.classList.remove('hidden');
      startExamBtn.classList.add('hidden');
      cancelEnrollBtn.classList.add('hidden');
      enrollTip.textContent = '报名后请提前 10 分钟进入考试环境，检查网络与设备状态。开考 30 分钟后将不再允许进入考试。';
      headerEnrollBadge.classList.add('hidden');
    }
  }

  updateEnrollUI();

  // 点击「立即报名」：弹出考试须知
  enrollBtn.addEventListener('click', () => {
    noticeModal.classList.remove('hidden');
  });

  // 考试须知弹窗：取消
  noticeCancel.addEventListener('click', () => {
    noticeModal.classList.add('hidden');
  });

  // 考试须知弹窗：确认并直接进入考试
  noticeConfirm.addEventListener('click', () => {
    noticeModal.classList.add('hidden');
    setEnrolled(true);
    updateEnrollUI();
    // 报名成功后直接进入在线考试页
    // 这里可替换为实际路由，例如 SPA 的路由跳转
    window.location.href = 'exam-online2.html?id=' + EXAM_ID;
  });

  // 已报名态：进入在线考试
  startExamBtn.addEventListener('click', () => {
    window.location.href = 'exam-online2.html?id=' + EXAM_ID;
  });

  // 取消报名
  cancelEnrollBtn.addEventListener('click', () => {
    if (!confirm('确定要取消本场考试报名吗？')) return;
    setEnrolled(false);
    updateEnrollUI();
  });
</script>

</body>
</html>