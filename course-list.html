<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>课程列表 - 合作伙伴赋能平台</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 图标库 -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body {
      background: radial-gradient(circle at top left, #1e293b 0, #020617 45%, #000 100%);
    }
    .glass-card {
      background: rgba(15,23,42,0.85);
      backdrop-filter: blur(14px);
    }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .filter-chip-active {
      border-color: rgb(129 140 248 / 1); /* indigo-400 */
      color: rgb(191 219 254 / 1);         /* blue-100-ish */
      background: rgba(15,23,42,0.9);
    }
  </style>
</head>
<body class="bg-slate-950 text-slate-50">

<!-- 顶部导航（简版），与首页风格统一 -->
<header class="fixed top-0 inset-x-0 z-50 bg-slate-900/85 backdrop-blur-xl border-b border-slate-800">
  <div class="max-w-7xl mx-auto px-4 lg:px-6">
    <div class="flex items-center justify-between h-14">
      <!-- 左侧：LOGO + 返回首页 -->
      <div class="flex items-center space-x-3">
        <a href="index.html" class="flex items-center space-x-2 group">
          <div class="h-9 w-9 rounded-xl bg-gradient-to-br from-indigo-500 via-purple-500 to-cyan-400 flex items-center justify-center">
            <i class="fa fa-network-wired text-white text-lg"></i>
          </div>
          <div class="hidden sm:block">
            <div class="text-xs uppercase tracking-widest text-slate-400">SUGON</div>
            <div class="text-sm font-semibold group-hover:text-indigo-300">合作伙伴赋能平台</div>
          </div>
        </a>
        <span class="hidden sm:inline-block text-slate-500 text-xs">/</span>
        <span class="hidden sm:inline-block text-sm text-slate-200">课程列表</span>
      </div>

      <!-- 中间：本页标题 + 简要统计 -->
      <div class="hidden md:flex items-center space-x-3">
        <h1 class="text-sm font-semibold">在线学习 · 全部课程</h1>
        <span class="text-[11px] text-slate-400">为伙伴提供系统化学习路径</span>
      </div>

      <!-- 右侧：简单入口 -->
      <div class="flex items-center space-x-2 text-xs">
        <a href="#" class="px-3 py-1.5 rounded-full bg-slate-900 border border-slate-700 hover:border-indigo-500 transition">
          学习中心
        </a>
        <a href="#" class="px-3 py-1.5 rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-cyan-400 text-white font-medium">
          登录
        </a>
      </div>
    </div>
  </div>
</header>

<main class="pt-16 lg:pt-20 pb-10">

  <!-- 顶部说明 + 搜索 & 排序 & 分页控制 -->
  <section class="max-w-7xl mx-auto px-4 lg:px-6 mb-6">
    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3">
      <div>
        <h2 class="text-lg font-semibold flex items-center gap-2">
          <span class="inline-flex h-6 w-1 rounded-full bg-indigo-500"></span>
          课程列表
        </h2>
        <p class="text-xs text-slate-400 mt-1">
          按类别 / 岗位 / 赛道快速筛选，支持按最新或热度排序，并可直接在列表中报名。
        </p>
      </div>

      <!-- 顶部搜索 + 排序 + 简易分页控制（页码在下方还有完整展示） -->
      <div class="flex flex-wrap items-center gap-2 justify-end">
        <!-- 搜索 -->
        <div class="relative">
          <i class="fa fa-search text-slate-400 absolute left-2 top-2.5 text-xs"></i>
          <input id="search-input"
                 type="text"
                 placeholder="搜索课程名称 / 发布来源 / 标签"
                 class="w-52 md:w-64 rounded-full bg-slate-900/80 border border-slate-700 pl-7 pr-3 py-1.5 text-xs placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
        </div>
        <!-- 排序 -->
        <div class="flex items-center gap-1 text-xs">
          <span class="text-slate-400">排序：</span>
          <select id="sort-select"
                  class="rounded-full bg-slate-900/80 border border-slate-700 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500">
            <option value="newest">最新发布</option>
            <option value="most-popular">最热学习</option>
          </select>
        </div>
      </div>
    </div>
  </section>

  <!-- 高级筛选区：类别 / 岗位 / 赛道 -->
  <section class="max-w-7xl mx-auto px-4 lg:px-6 mb-6">
    <div class="glass-card rounded-3xl border border-slate-800 p-4 space-y-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-2">
          <i class="fa fa-filter text-indigo-400 text-sm"></i>
          <span class="text-sm font-medium">高级筛选</span>
        </div>
        <span id="active-filter-text" class="text-[11px] text-slate-400">
          已选条件：全部
        </span>
      </div>

      <div class="grid md:grid-cols-3 gap-3 text-xs">
        <!-- 类别 -->
        <div>
          <div class="text-slate-400 mb-1 flex items-center justify-between">
            <span>类别</span>
          </div>
          <div class="flex flex-wrap gap-1">
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/80 border border-slate-700 text-[11px]"
                    data-filter="category" data-value="all">
              全部
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-indigo-300"
                    data-filter="category" data-value="云基础设施">
              云基础设施
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-emerald-300"
                    data-filter="category" data-value="AI与数据智能">
              AI 与数据智能
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-amber-300"
                    data-filter="category" data-value="解决方案">
              解决方案
            </button>
          </div>
        </div>

        <!-- 岗位 -->
        <div>
          <div class="text-slate-400 mb-1 flex items-center justify-between">
            <span>岗位</span>
          </div>
          <div class="flex flex-wrap gap-1">
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/80 border border-slate-700 text-[11px]"
                    data-filter="role" data-value="all">
              全部
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-sky-300"
                    data-filter="role" data-value="云架构师">
              云架构师
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-pink-300"
                    data-filter="role" data-value="解决方案顾问">
              解决方案顾问
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-rose-300"
                    data-filter="role" data-value="销售">
              销售
            </button>
          </div>
        </div>

        <!-- 赛道 -->
        <div>
          <div class="text-slate-400 mb-1 flex items-center justify-between">
            <span>赛道</span>
          </div>
          <div class="flex flex-wrap gap-1">
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/80 border border-slate-700 text-[11px]"
                    data-filter="track" data-value="all">
              全部
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-emerald-300"
                    data-filter="track" data-value="DevOps">
              DevOps
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-purple-300"
                    data-filter="track" data-value="AI">
              AI 赛道
            </button>
            <button class="filter-chip px-2.5 py-1 rounded-full bg-slate-900/70 border border-slate-800 text-[11px] text-amber-300"
                    data-filter="track" data-value="业务运营">
              业务运营
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 课程列表 -->
  <section class="max-w-7xl mx-auto px-4 lg:px-6">
    <!-- 统计 + 分页信息 -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 text-[11px] text-slate-400 gap-2">
      <div>
        共 <span id="total-count">0</span> 门课程，当前显示
        <span id="current-range">0–0</span>
      </div>
      <div class="flex items-center gap-2">
        <button id="prev-btn"
                class="px-2.5 py-1 rounded-full bg-slate-900/80 border border-slate-700 hover:bg-slate-800">
          上一页
        </button>
        <span id="page-info">1 / 1</span>
        <button id="next-btn"
                class="px-2.5 py-1 rounded-full bg-slate-900/80 border border-slate-700 hover:bg-slate-800">
          下一页
        </button>
      </div>
    </div>

    <!-- 网格卡片 -->
    <div id="course-list"
         class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
      <!-- 卡片由 JS 注入 -->
    </div>
  </section>
</main>

<!-- 简洁页脚 -->
<footer class="border-t border-slate-800 mt-8 pt-4 pb-6">
  <div class="max-w-7xl mx-auto px-4 lg:px-6 text-[11px] text-slate-500 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
    <div>© 2026 合作伙伴赋能平台 · 在线学习中心</div>
    <div class="flex flex-wrap gap-3">
      <span>隐私政策</span>
      <span>法律声明</span>
      <span>版权信息</span>
    </div>
  </div>
</footer>

<!-- 交互脚本：筛选 / 排序 / 分页 / 报名 -->
<script>
  // 模拟课程数据（可后续替换为接口返回）
  const allCourses = [
    {id:1, name:"云原生解决方案实战 | 中级", source:"云基础设施学院", date:"2026-01-15", learners:12340, category:"云基础设施", role:"云架构师", track:"DevOps"},
    {id:2, name:"AI 与数据智能入门", source:"AI 与数据智能学院", date:"2026-01-12", learners:9800, category:"AI与数据智能", role:"数据分析师", track:"AI"},
    {id:3, name:"解决方案售前训练营", source:"解决方案与售前学院", date:"2026-01-10", learners:8700, category:"解决方案", role:"解决方案顾问", track:"业务运营"},
    {id:4, name:"DevOps 自动化与监控实践", source:"云基础设施学院", date:"2026-01-08", learners:7600, category:"云基础设施", role:"云架构师", track:"DevOps"},
    {id:5, name:"AIGC 应用实战：从提示词到落地", source:"AI 与数据智能学院", date:"2026-01-06", learners:6400, category:"AI与数据智能", role:"开发者", track:"AI"},
    {id:6, name:"伙伴销售赋能：场景化方案演示", source:"伙伴业务与运营学院", date:"2026-01-04", learners:5900, category:"解决方案", role:"销售", track:"业务运营"},
    {id:7, name:"云成本优化与FinOps", source:"云基础设施学院", date:"2026-01-03", learners:4200, category:"云基础设施", role:"云架构师", track:"业务运营"},
    {id:8, name:"数据治理与合规实践", source:"AI 与数据智能学院", date:"2026-01-02", learners:3100, category:"AI与数据智能", role:"数据分析师", track:"业务运营"},
    {id:9, name:"生态技术领袖高级课程", source:"解决方案与售前学院", date:"2025-12-28", learners:2800, category:"解决方案", role:"解决方案顾问", track:"DevOps"},
    {id:10, name:"云安全与零信任架构", source:"云基础设施学院", date:"2025-12-25", learners:2600, category:"云基础设施", role:"云架构师", track:"DevOps"},
    {id:11, name:"金融行业云原生解决方案", source:"解决方案与售前学院", date:"2025-12-22", learners:2400, category:"解决方案", role:"解决方案顾问", track:"业务运营"},
    {id:12, name:"智能运维与AIOps", source:"AI 与数据智能学院", date:"2025-12-20", learners:2300, category:"AI与数据智能", role:"运维工程师", track:"AI"}
  ];

  const pageSize = 8;
  let currentPage = 1;
  let filteredCourses = [...allCourses];

  const filters = {
    category: 'all',
    role: 'all',
    track: 'all',
    search: ''
  };

  // DOM elements
  const searchInput = document.getElementById('search-input');
  const sortSelect = document.getElementById('sort-select');
  const courseList = document.getElementById('course-list');
  const totalCountEl = document.getElementById('total-count');
  const currentRangeEl = document.getElementById('current-range');
  const pageInfoEl = document.getElementById('page-info');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const activeFilterText = document.getElementById('active-filter-text');
  const filterChips = document.querySelectorAll('.filter-chip');

  // 绑定筛选 chip 点击事件（单选）
  filterChips.forEach(chip => {
    chip.addEventListener('click', () => {
      const type = chip.dataset.filter;
      const value = chip.dataset.value;
      // 取消同类的 active
      document.querySelectorAll(`.filter-chip[data-filter="${type}"]`)
        .forEach(c => c.classList.remove('filter-chip-active'));
      // 激活当前
      chip.classList.add('filter-chip-active');
      filters[type] = value;
      applyFiltersAndRender();
    });
  });

  // 搜索输入
  searchInput.addEventListener('input', () => {
    filters.search = searchInput.value.trim().toLowerCase();
    applyFiltersAndRender();
  });

  // 排序变更
  sortSelect.addEventListener('change', () => {
    applyFiltersAndRender();
  });

  // 分页按钮
  prevBtn.addEventListener('click', () => {
    if (currentPage > 1) {
      currentPage--;
      renderList();
    }
  });
  nextBtn.addEventListener('click', () => {
    const totalPages = Math.ceil(filteredCourses.length / pageSize) || 1;
    if (currentPage < totalPages) {
      currentPage++;
      renderList();
    }
  });

  // 应用筛选 + 排序
  function applyFiltersAndRender() {
    filteredCourses = allCourses.filter(c => {
      const matchCategory = filters.category === 'all' || c.category === filters.category;
      const matchRole = filters.role === 'all' || c.role === filters.role;
      const matchTrack = filters.track === 'all' || c.track === filters.track;
      const kw = filters.search;
      const matchSearch = !kw ||
        c.name.toLowerCase().includes(kw) ||
        c.source.toLowerCase().includes(kw) ||
        (c.category || '').toLowerCase().includes(kw) ||
        (c.role || '').toLowerCase().includes(kw) ||
        (c.track || '').toLowerCase().includes(kw);
      return matchCategory && matchRole && matchTrack && matchSearch;
    });

    // 排序
    if (sortSelect.value === 'newest') {
      filteredCourses.sort((a, b) => b.date.localeCompare(a.date));
    } else {
      filteredCourses.sort((a, b) => b.learners - a.learners);
    }

    currentPage = 1;
    updateFilterText();
    renderList();
  }

  // 更新顶部“已选条件”文案
  function updateFilterText() {
    const parts = [];
    if (filters.category !== 'all') parts.push(`类别：${filters.category}`);
    if (filters.role !== 'all') parts.push(`岗位：${filters.role}`);
    if (filters.track !== 'all') parts.push(`赛道：${filters.track}`);
    if (filters.search) parts.push(`关键词：“${filters.search}”`);
    activeFilterText.textContent = '已选条件：' + (parts.length ? parts.join(' / ') : '全部');
  }

  // 渲染当前页列表
  function renderList() {
    courseList.innerHTML = '';
    const total = filteredCourses.length;
    const totalPages = Math.ceil(total / pageSize) || 1;
    const startIndex = (currentPage - 1) * pageSize;
    const endIndex = Math.min(startIndex + pageSize, total);

    const pageData = filteredCourses.slice(startIndex, endIndex);
    pageData.forEach(course => {
      const card = document.createElement('article');
      card.className = 'glass-card rounded-3xl border border-slate-800 p-4 flex flex-col justify-between hover:-translate-y-1 hover:border-indigo-500/80 transition cursor-pointer';

      card.innerHTML = `
        <div>
          <div class="flex items-center justify-between mb-2">
            <span class="text-[11px] text-slate-400 truncate max-w-[120px]">${course.source}</span>
            <span class="text-[11px] text-amber-300 flex items-center gap-1">
              <i class="fa fa-fire text-[10px]"></i>
              ${(course.learners/1000).toFixed(1)}k 在学
            </span>
          </div>
          <h3 class="text-sm font-semibold line-clamp-2 mb-1">${course.name}</h3>
          <div class="flex flex-wrap gap-1 text-[10px] text-slate-400 mb-2">
            <span class="inline-flex items-center px-1.5 py-0.5 rounded-full bg-slate-900/80 border border-slate-800">
              <i class="fa fa-layer-group mr-1 text-[9px] text-indigo-400"></i>${course.category}
            </span>
            <span class="inline-flex items-center px-1.5 py-0.5 rounded-full bg-slate-900/80 border border-slate-800">
              <i class="fa fa-user-tie mr-1 text-[9px] text-emerald-400"></i>${course.role}
            </span>
            <span class="inline-flex items-center px-1.5 py-0.5 rounded-full bg-slate-900/80 border border-slate-800">
              <i class="fa fa-road mr-1 text-[9px] text-sky-400"></i>${course.track}
            </span>
          </div>
        </div>
        <div class="mt-3 flex items-center justify-between text-[11px] text-slate-400">
          <div class="space-y-0.5">
            <div><i class="fa fa-clock mr-1 text-[9px] text-slate-500"></i>上架时间：${course.date}</div>
            <div><i class="fa fa-users mr-1 text-[9px] text-slate-500"></i>学习人数：${course.learners.toLocaleString()}</div>
          </div>
          <button class="enroll-btn px-3 py-1.5 rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-cyan-400 text-white text-[11px] font-medium hover:opacity-90"
                  data-id="${course.id}">
            立即报名
          </button>
        </div>
      `;
      courseList.appendChild(card);
    });

    // 更新统计 & 分页
    totalCountEl.textContent = total;
    currentRangeEl.textContent = total ? `${startIndex + 1}–${endIndex}` : '0–0';
    pageInfoEl.textContent = `${currentPage} / ${totalPages}`;

    prevBtn.disabled = currentPage === 1;
    nextBtn.disabled = currentPage === totalPages;
    prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
    nextBtn.classList.toggle('opacity-50', nextBtn.disabled);

    // 绑定报名事件（每次重新绑定）
    document.querySelectorAll('.enroll-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const id = btn.dataset.id;
        const course = allCourses.find(c => c.id == id);
        // 这里可替换为实际跳转或调用报名接口
        alert(`已报名课程：「${course.name}」，即将跳转到课程详情页。`);
      });
    });
  }

  // 初始化：默认“全部”chip 激活
  document.querySelectorAll('.filter-chip[data-value="all"]').forEach(chip => {
    chip.classList.add('filter-chip-active');
  });
  applyFiltersAndRender();
</script>

</body>
</html>